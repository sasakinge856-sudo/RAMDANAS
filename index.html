<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Fun Hub v2.5</title>

  <style>
    /* ======================
       Reset + mobile full screen
    ====================== */
    *,*::before,*::after{box-sizing:border-box}
    html,body{height:100%; margin:0; overflow-x:hidden}
    img,svg,canvas{max-width:100%; display:block}
    button,input,textarea{font:inherit}
    :root{
      --txt: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.70);
      --stroke: rgba(255,255,255,.14);

      /* theme vars (get overridden) */
      --bg0:#050814;
      --bg1:#0a1233;
      --cardA: rgba(255,255,255,.08);
      --cardB: rgba(255,255,255,.06);

      --accentA:#ffd666;
      --accentB:#22d3ee;
      --accentC:#a855f7;

      --radius: 22px;
      --shadow: 0 30px 80px rgba(0,0,0,.35);
      --glow: 0 0 30px rgba(255,214,102,.16), 0 0 90px rgba(34,211,238,.10);
      --font: system-ui, -apple-system, "Segoe UI", Tahoma, Arial, sans-serif;

      --layout-pad: 12px;
      --header-style: 1; /* used by theme classes */
    }

    body{
      font-family: var(--font);
      color: var(--txt);
      background:
        radial-gradient(1100px 650px at 12% 18%, color-mix(in srgb, var(--accentA) 22%, transparent), transparent 60%),
        radial-gradient(850px 550px at 90% 30%, color-mix(in srgb, var(--accentC) 18%, transparent), transparent 60%),
        radial-gradient(850px 550px at 45% 100%, color-mix(in srgb, var(--accentB) 16%, transparent), transparent 60%),
        linear-gradient(180deg, var(--bg0), var(--bg1));

      min-height: 100svh;
      min-height: 100vh;

      padding:
        calc(var(--layout-pad) + env(safe-area-inset-top))
        calc(var(--layout-pad) + env(safe-area-inset-right))
        calc(var(--layout-pad) + env(safe-area-inset-bottom))
        calc(var(--layout-pad) + env(safe-area-inset-left));

      display:flex;
      justify-content:center;
      align-items:stretch;
    }

    /* Floating emojis */
    .float-layer{position:fixed; inset:0; pointer-events:none; overflow:hidden; opacity:.85}
    .emoji{
      position:absolute;
      font-size:clamp(18px, 4vw, 30px);
      filter: drop-shadow(0 10px 18px rgba(0,0,0,.35));
      animation: drift linear infinite;
      transform: translate3d(0,0,0);
      opacity:.85;
    }
    @keyframes drift{
      from{ transform: translate3d(var(--x), 110svh, 0) rotate(0deg); }
      to  { transform: translate3d(var(--x), -20svh, 0) rotate(360deg); }
    }

    /* App shell */
    .app{
      width: min(1100px, 100%);
      margin-inline:auto;
      display:flex;
      flex-direction:column;
      gap:12px;
      flex:1;
      position:relative;
      z-index:2;
      min-height:0;
    }

    /* ===== Header variants controlled by theme classes ===== */
    header{
      border:1px solid var(--stroke);
      border-radius: var(--radius);
      background: linear-gradient(180deg, var(--cardA), var(--cardB));
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      box-shadow: var(--shadow);
      padding: 12px 14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .theme-card header{
      border-radius: 28px;
      background:
        radial-gradient(500px 240px at 10% 0%, color-mix(in srgb, var(--accentA) 35%, transparent), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.05));
    }
    .theme-min header{
      border-radius: 16px;
      background: rgba(0,0,0,.28);
      box-shadow: 0 20px 50px rgba(0,0,0,.30);
    }
    .theme-arc header{
      border-radius: 999px;
      padding: 10px 14px;
      background:
        linear-gradient(90deg, color-mix(in srgb, var(--accentA) 16%, rgba(0,0,0,.22)),
                              color-mix(in srgb, var(--accentB) 16%, rgba(0,0,0,.22)));
    }

    .brand{display:flex; flex-direction:column; gap:3px}
    .brand h1{margin:0; font-size:clamp(16px, 4vw, 20px); letter-spacing:.2px}
    .brand p{margin:0; color:var(--muted); font-size:12.5px}

    .pill{
      border:1px solid rgba(255,255,255,.16);
      background:rgba(0,0,0,.25);
      padding:8px 10px;
      border-radius:999px;
      display:flex; gap:8px; align-items:center;
      color:rgba(255,255,255,.86);
      font-size:12.5px;
      white-space:nowrap;
    }

    main{
      flex:1;
      border:1px solid var(--stroke);
      border-radius: var(--radius);
      background: linear-gradient(180deg, var(--cardA), var(--cardB));
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      box-shadow: var(--shadow), var(--glow);
      overflow:hidden;
      display:flex;
      flex-direction:column;
      min-height:0;
    }

    .page{
      display:none;
      padding: 14px;
      overflow:auto;
      min-height:0;
    }
    .page.active{display:block}

    /* Layout variants */
    .theme-min main{ border-radius: 16px; background: rgba(0,0,0,.28); }
    .theme-arc main{ border-radius: 28px; }
    .theme-card main{ border-radius: 28px; }

    .sectionTitle{margin:0 0 10px; font-size:clamp(18px, 4.6vw, 24px)}
    .muted{margin:0; color:var(--muted); font-size:13.5px; line-height:1.65}

    /* Tiles */
    .grid4{display:grid; grid-template-columns:repeat(2, minmax(0,1fr)); gap:12px; margin-top:12px}
    @media (min-width:760px){ .grid4{grid-template-columns:repeat(4, minmax(0,1fr))} }

    .tile{
      border:1px solid rgba(255,255,255,.15);
      background: rgba(0,0,0,.20);
      border-radius: 18px;
      padding:14px 12px;
      box-shadow: 0 14px 40px rgba(0,0,0,.25);
      cursor:pointer;
      position:relative;
      overflow:hidden;
      transition: transform .15s ease, filter .15s ease;
      min-height: 92px;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      gap:8px;
    }
    .theme-min .tile{border-radius:14px; background: rgba(255,255,255,.06)}
    .theme-arc .tile{border-radius:22px}
    .tile:hover{ transform: translateY(-2px); filter: brightness(1.05); }
    .tile .t{font-weight:900; font-size:15px}
    .tile .d{color:var(--muted); font-size:12.5px; line-height:1.4}
    .tile::after{
      content:"";
      position:absolute; inset:-60px -60px auto auto;
      width:140px; height:140px;
      background: radial-gradient(circle at 30% 30%,
        color-mix(in srgb, var(--accentA) 45%, transparent),
        color-mix(in srgb, var(--accentB) 18%, transparent),
        transparent 65%);
      transform: rotate(25deg);
      opacity:.9;
    }

    /* Cards and buttons */
    .card{
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.20);
      border-radius: 18px;
      padding:12px;
      margin-top:12px;
    }
    .theme-min .card{border-radius:14px; background: rgba(255,255,255,.06)}
    .theme-card .card{
      border-radius: 22px;
      background:
        radial-gradient(500px 240px at 10% 0%, color-mix(in srgb, var(--accentC) 22%, transparent), transparent 60%),
        rgba(0,0,0,.20);
    }

    .btnRow{display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:space-between; margin-top:12px}
    .btn{
      border:0; cursor:pointer;
      border-radius: 16px;
      padding:12px 14px;
      font-weight:900;
      color:#0b1020;
      background: linear-gradient(90deg, var(--accentA), var(--accentB));
      box-shadow: 0 14px 40px rgba(255, 214, 102,.18);
      transition: transform .15s ease, filter .15s ease;
      min-width: 150px;
    }
    .btn:hover{ transform: translateY(-1px); filter: brightness(1.06); }
    .btn:active{ transform: translateY(0px) scale(.98); }

    .btnGhost{
      background: rgba(0,0,0,.25);
      border:1px solid rgba(255,255,255,.16);
      color: rgba(255,255,255,.88);
      box-shadow:none;
      min-width:auto;
    }

    /* Nav */
    nav{
      display:flex;
      gap:10px;
      justify-content:space-between;
      align-items:center;
      padding:10px 12px;
      border:1px solid var(--stroke);
      border-radius: var(--radius);
      background: linear-gradient(180deg, var(--cardA), var(--cardB));
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      box-shadow: var(--shadow);
    }
    .theme-arc nav{ border-radius: 999px; }
    .theme-min nav{ border-radius: 16px; background: rgba(0,0,0,.28); }

    .navBtn{
      flex:1;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.22);
      color: rgba(255,255,255,.88);
      border-radius: 16px;
      padding:10px 8px;
      cursor:pointer;
      font-weight:900;
      font-size:12.5px;
      transition: transform .15s ease, filter .15s ease;
      text-align:center;
      user-select:none;
    }
    .navBtn:hover{ transform: translateY(-1px); filter: brightness(1.05); }
    .navBtn.active{
      border-color: color-mix(in srgb, var(--accentA) 55%, rgba(255,255,255,.14));
      box-shadow: 0 0 0 4px color-mix(in srgb, var(--accentA) 18%, transparent);
    }

    /* Forms */
    .field{
      width:100%;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.25);
      color: var(--txt);
      border-radius: 14px;
      padding: 12px;
      outline:none;
    }
    .field:focus{
      border-color: color-mix(in srgb, var(--accentA) 55%, rgba(255,255,255,.14));
      box-shadow: 0 0 0 4px color-mix(in srgb, var(--accentA) 18%, transparent);
    }
    textarea.field{ min-height: 140px; resize: vertical; }
    .status{
      margin-top:10px;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.22);
      display:none;
      word-break: break-word;
    }
    .status.show{ display:block; }

    /* Quiz */
    .qHead{display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap}
    .badge{
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.22);
      font-size:12px;
      color: rgba(255,255,255,.85);
    }
    .question{font-weight:950; font-size:15px; line-height:1.6; margin-top:10px}
    .choices{display:grid; gap:8px; margin-top:10px}
    .choice{
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.22);
      border-radius:14px;
      padding:10px 12px;
      cursor:pointer;
      transition: transform .12s ease, filter .12s ease, border-color .12s ease;
      user-select:none;
    }
    .choice:hover{ transform: translateY(-1px); filter: brightness(1.05); }
    .choice.correct{ border-color: rgba(44,255,159,.55); box-shadow: 0 0 0 4px rgba(44,255,159,.10); }
    .choice.wrong{ border-color: rgba(255,59,92,.55); box-shadow: 0 0 0 4px rgba(255,59,92,.10); }
    .qFooter{display:flex; gap:10px; align-items:center; justify-content:space-between; flex-wrap:wrap; margin-top:12px}

    /* Canvas wrapper */
    .canvasWrap{
      width:min(720px, 100%);
      margin-top:10px;
      border:1px solid rgba(255,255,255,.14);
      border-radius:18px;
      overflow:hidden;
      background: rgba(0,0,0,.22);
    }
    canvas{ width:100%; height:auto; }

    /* 2048 grid */
    .g2048{
      width:min(420px, 100%);
      margin-top:10px;
      display:grid;
      grid-template-columns: repeat(4, minmax(0,1fr));
      gap:10px;
    }
    .cell{
      aspect-ratio: 1/1;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.22);
      display:flex;
      align-items:center;
      justify-content:center;
      font-size: 26px;
      font-weight: 1000;
      user-select:none;
    }

    /* Whack area */
    .whackArena{
      width:min(520px, 100%);
      margin-top:10px;
      display:grid;
      grid-template-columns: repeat(3, minmax(0,1fr));
      gap:10px;
    }
    .whackHole{
      aspect-ratio: 1/1;
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.22);
      display:flex;
      align-items:center;
      justify-content:center;
      font-size: 32px;
      user-select:none;
      cursor:pointer;
    }

    /* Maze */
    .mazeWrap{
      width:min(520px, 100%);
      margin-top:10px;
      border:1px solid rgba(255,255,255,.14);
      border-radius:18px;
      overflow:hidden;
      background: rgba(0,0,0,.22);
      padding: 10px;
    }
    .mazeGrid{
      display:grid;
      grid-template-columns: repeat(10, minmax(0,1fr));
      gap:6px;
    }
    .mazeCell{
      aspect-ratio: 1/1;
      border-radius: 10px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.06);
    }
    .mazeCell.wall{ background: rgba(255,255,255,.16); }
    .mazeCell.player{ background: color-mix(in srgb, var(--accentB) 35%, rgba(255,255,255,.06)); }
    .mazeCell.goal{ background: color-mix(in srgb, var(--accentA) 35%, rgba(255,255,255,.06)); }

    /* Typing Rush */
    .typeBox{
      display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:space-between;
      margin-top:10px;
    }
    .word{
      font-size: 18px;
      font-weight: 1000;
      padding: 10px 12px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.22);
    }

    /* Theme picker */
    .themePicker{
      display:grid;
      grid-template-columns: repeat(2, minmax(0,1fr));
      gap:12px;
      margin-top:12px;
    }
    .themeBtn{
      border-radius: 18px;
      padding:12px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.22);
      cursor:pointer;
      user-select:none;
      display:flex;
      flex-direction:column;
      gap:8px;
      transition: transform .15s ease, filter .15s ease;
    }
    .themeBtn:hover{ transform: translateY(-2px); filter: brightness(1.05); }
    .swatches{ display:flex; gap:8px; }
    .sw{ width:18px; height:18px; border-radius:999px; border:1px solid rgba(255,255,255,.18); }

    /* Footer small */
    .footer{
      margin-top:12px;
      text-align:center;
      font-size: 12.5px;
      color: rgba(255,255,255,.58);
    }
  </style>
</head>

<body>
  <div class="float-layer" id="floatLayer" aria-hidden="true"></div>

  <div class="app" id="app">
    <header>
      <div class="brand">
        <h1>Fun Hub v2.5</h1>
        <p>ØµÙÙ†Ø¹ Ø¨ÙˆØ§Ø³Ø·Ø©: Ø¨Ù†ÙŠ Ø§Ø¯Ù… Ø¨Ø±Ø§Ø³ ÙØ±Ø®Ù‡ v2</p>
      </div>
      <div class="pill" id="pill">âœ¨ Ø¬Ø§Ù‡Ø²</div>
    </header>

    <main>
      <!-- HOME -->
      <section class="page" data-route="home">
        <h2 class="sectionTitle">Ø§Ø®ØªØ§Ø± Ù‚Ø³Ù… ğŸ‘‡</h2>
        <p class="muted">Ù…ÙˆÙ‚Ø¹ Ø£Ù„Ø¹Ø§Ø¨ + Ø£Ø³Ø¦Ù„Ø© + ØªØ­Ø¯ÙŠØ§Øª. ÙƒÙ„ Ø­Ø§Ø¬Ø© Ø¨ØªØ´ØªØºÙ„ Ø¯Ø§Ø®Ù„ ØµÙØ­Ø© ÙˆØ§Ø­Ø¯Ø©.</p>

        <div class="grid4">
          <div class="tile" data-go="#games"><div class="t">Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</div><div class="d">ÙƒÙ„ Ù„Ø¹Ø¨Ø© ÙÙŠ ØµÙØ­Ø© Ù„ÙˆØ­Ø¯Ù‡Ø§</div></div>
          <div class="tile" data-go="#general"><div class="t">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ø§Ù…Ø©</div><div class="d">MCQ + Ù†ØªÙŠØ¬Ø©</div></div>
          <div class="tile" data-go="#countries"><div class="t">Ø§Ù„Ø¯ÙˆÙ„</div><div class="d">Ø¹ÙˆØ§ØµÙ…/Ù‚Ø§Ø±Ø§Øª</div></div>
          <div class="tile" data-go="#prep3"><div class="t">ØªØ§Ù„ØªØ© Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ</div><div class="d">ØªØ±Ù… ØªØ§Ù†ÙŠ + Ù…ÙˆØ§Ø¯</div></div>
        </div>

        <div class="card">
          <p class="muted">âœ‰ï¸ Ù„Ùˆ Ù…Ø­ØªØ§Ø¬ ØªØ¨Ø¹Øª Ø±Ø³Ø§Ù„Ø©: Ø§ÙØªØ­ Ù‚Ø³Ù… Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ù…Ù† Ø§Ù„Ø´Ø±ÙŠØ· ØªØ­Øª.</p>
        </div>
      </section>

      <!-- GAMES MENU -->
      <section class="page" data-route="games">
        <h2 class="sectionTitle">Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ğŸ®</h2>
        <p class="muted">Ø§Ø®ØªØ§Ø± Ù„Ø¹Ø¨Ø©:</p>

        <div class="grid4">
          <div class="tile" data-go="#g-2048"><div class="t">2048 Emoji</div><div class="d">Ø§Ø¯Ù…Ø¬ Ø§Ù„Ø¥ÙŠÙ…ÙˆØ¬ÙŠØ²</div></div>
          <div class="tile" data-go="#g-whack"><div class="t">Whack-a-Emoji</div><div class="d">Ø®Ø¨Ø· Ø¨Ø³Ø±Ø¹Ø©</div></div>
          <div class="tile" data-go="#g-react"><div class="t">Reaction Test</div><div class="d">Ø³Ø±Ø¹Ø© Ø±Ø¯ Ø§Ù„ÙØ¹Ù„</div></div>
          <div class="tile" data-go="#g-maze"><div class="t">Maze</div><div class="d">ØªØ­Ø±ÙŠÙƒ Ù†Ù‚Ø·Ø©</div></div>

          <div class="tile" data-go="#g-typing"><div class="t">Typing Rush</div><div class="d">Ø§ÙƒØªØ¨ Ø¨Ø³Ø±Ø¹Ø©</div></div>
          <div class="tile" data-go="#g-dino"><div class="t">Dino</div><div class="d">Ø§Ù‚ÙØ² ÙˆØªÙØ§Ø¯Ù‰</div></div>
          <div class="tile" data-go="#g-frog"><div class="t">Frog</div><div class="d">3 Ø®Ø§Ù†Ø§Øª + Ø£Ø¨ÙˆØ§Ø¨</div></div>
          <div class="tile" data-go="#home"><div class="t">Ø±Ø¬ÙˆØ¹</div><div class="d">Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div></div>
        </div>
      </section>

      <!-- 2048 EMOJI -->
      <section class="page" data-route="g-2048">
        <h2 class="sectionTitle">2048 Emoji Edition ğŸ§©</h2>
        <p class="muted">Ø§Ø³Ø­Ø¨ (ÙŠÙ…ÙŠÙ†/Ø´Ù…Ø§Ù„/ÙÙˆÙ‚/ØªØ­Øª) Ù„Ø¯Ù…Ø¬ Ù†ÙØ³ Ø§Ù„Ø¥ÙŠÙ…ÙˆØ¬ÙŠ. Ø§Ù„Ù‡Ø¯Ù: ØªÙˆØµÙ„ Ù„Ø£Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰.</p>

        <div class="card">
          <div class="qHead">
            <div class="badge" id="e2048Score">Score: 0</div>
            <div class="badge" id="e2048Best">Best: 0</div>
          </div>
          <div class="g2048" id="e2048Grid"></div>

          <div class="btnRow">
            <button class="btn btnGhost" id="e2048Reset">Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„</button>
            <button class="btn" data-go="#games">Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø£Ù„Ø¹Ø§Ø¨</button>
          </div>
        </div>
      </section>

      <!-- WHACK -->
      <section class="page" data-route="g-whack">
        <h2 class="sectionTitle">Whack-a-Emoji ğŸ”¨</h2>
        <p class="muted">Ø§Ù„Ø¥ÙŠÙ…ÙˆØ¬ÙŠ Ù‡ÙŠØ·Ù„Ø¹ Ø¨Ø³Ø±Ø¹Ø©â€¦ Ø§Ø¶ØºØ· Ø¹Ù„ÙŠÙ‡ Ù‚Ø¨Ù„ Ù…Ø§ ÙŠØ®ØªÙÙŠ.</p>

        <div class="card">
          <div class="qHead">
            <div class="badge" id="whackScore">Score: 0</div>
            <div class="badge" id="whackTimer">Time: 30</div>
          </div>

          <div class="whackArena" id="whackArena"></div>

          <div class="btnRow">
            <button class="btn btnGhost" id="whackStart">Ø§Ø¨Ø¯Ø£</button>
            <button class="btn btnGhost" id="whackReset">Ø¥Ø¹Ø§Ø¯Ø©</button>
            <button class="btn" data-go="#games">Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø£Ù„Ø¹Ø§Ø¨</button>
          </div>
        </div>
      </section>

      <!-- REACTION -->
      <section class="page" data-route="g-react">
        <h2 class="sectionTitle">Reaction Test âš¡</h2>
        <p class="muted">Ø§Ø¶ØºØ· "Ø§Ø¨Ø¯Ø£"â€¦ Ø§Ø³ØªÙ†Ù‰ Ù„Ø­Ø¯ Ù…Ø§ ØªØ¸Ù‡Ø± ÙƒÙ„Ù…Ø© "Ø§Ø¶ØºØ·!" ÙˆØ§Ø¶ØºØ· ÙÙˆØ±Ù‹Ø§. Ù‡ÙŠØ­Ø³Ø¨ Ø²Ù…Ù† Ø±Ø¯ ÙØ¹Ù„Ùƒ.</p>

        <div class="card" style="text-align:center;">
          <div class="badge" id="reactBest">Ø£ÙØ¶Ù„ Ø²Ù…Ù†: â€”</div>
          <div style="height:12px"></div>

          <div id="reactBox" style="
            border:1px solid rgba(255,255,255,.14);
            border-radius:18px;
            padding:26px 12px;
            background:rgba(0,0,0,.22);
            font-weight:1000;
            font-size:18px;
            user-select:none;
            cursor:pointer;
          ">Ø¬Ø§Ù‡Ø²</div>

          <div class="btnRow">
            <button class="btn btnGhost" id="reactStart">Ø§Ø¨Ø¯Ø£</button>
            <button class="btn btnGhost" id="reactReset">Ø¥Ø¹Ø§Ø¯Ø©</button>
            <button class="btn" data-go="#games">Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø£Ù„Ø¹Ø§Ø¨</button>
          </div>
        </div>
      </section>

      <!-- MAZE -->
      <section class="page" data-route="g-maze">
        <h2 class="sectionTitle">Maze Ø¨Ø³ÙŠØ·Ø© ğŸ§­</h2>
        <p class="muted">Ø­Ø±Ù‘Ùƒ Ø§Ù„Ù†Ù‚Ø·Ø© Ø¨Ø§Ù„Ø£Ø³Ù‡Ù… (â¬…ï¸â¡ï¸â¬†ï¸â¬‡ï¸) Ø£Ùˆ Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… Ù„Ø­Ø¯ Ø§Ù„Ù‡Ø¯Ù â­.</p>

        <div class="card">
          <div class="qHead">
            <div class="badge" id="mazeMoves">Moves: 0</div>
            <div class="badge" id="mazeState">Ø¬Ø§Ù‡Ø²</div>
          </div>

          <div class="mazeWrap">
            <div class="mazeGrid" id="mazeGrid"></div>
          </div>

          <div class="btnRow">
            <button class="btn btnGhost" id="mazeUp">â¬†ï¸</button>
            <button class="btn btnGhost" id="mazeDown">â¬‡ï¸</button>
            <button class="btn btnGhost" id="mazeLeft">â¬…ï¸</button>
            <button class="btn btnGhost" id="mazeRight">â¡ï¸</button>
            <button class="btn btnGhost" id="mazeReset">Ø¥Ø¹Ø§Ø¯Ø©</button>
            <button class="btn" data-go="#games">Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø£Ù„Ø¹Ø§Ø¨</button>
          </div>
        </div>
      </section>

      <!-- TYPING RUSH -->
      <section class="page" data-route="g-typing">
        <h2 class="sectionTitle">Typing Rush âŒ¨ï¸</h2>
        <p class="muted">Ø§ÙƒØªØ¨ Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ù„ÙŠ ØªØ¸Ù‡Ø± Ø¨Ø³Ø±Ø¹Ø©. Ø¹Ù†Ø¯Ùƒ 30 Ø«Ø§Ù†ÙŠØ©.</p>

        <div class="card">
          <div class="qHead">
            <div class="badge" id="typeScore">Score: 0</div>
            <div class="badge" id="typeTime">Time: 30</div>
          </div>

          <div class="typeBox">
            <div class="word" id="typeWord">â€”</div>
            <input class="field" id="typeInput" placeholder="Ø§ÙƒØªØ¨ Ù‡Ù†Ø§â€¦" autocomplete="off" />
          </div>

          <div class="btnRow">
            <button class="btn btnGhost" id="typeStart">Ø§Ø¨Ø¯Ø£</button>
            <button class="btn btnGhost" id="typeReset">Ø¥Ø¹Ø§Ø¯Ø©</button>
            <button class="btn" data-go="#games">Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø£Ù„Ø¹Ø§Ø¨</button>
          </div>
        </div>
      </section>

      <!-- DINO -->
      <section class="page" data-route="g-dino">
        <h2 class="sectionTitle">Dino ğŸ¦–</h2>
        <p class="muted">Ø§Ø¶ØºØ·/Ø§Ù„Ù…Ø³ Ø¹Ø´Ø§Ù† ØªÙ‚ÙØ². Ù‡Ø¯ÙÙƒ Ø£Ø¹Ù„Ù‰ Ø³ÙƒÙˆØ±.</p>

        <div class="card">
          <div class="qHead">
            <div class="badge" id="dinoScore">Score: 0</div>
            <div class="badge" id="dinoState">Ø¬Ø§Ù‡Ø²</div>
          </div>

          <div class="canvasWrap"><canvas id="dinoCanvas" width="720" height="220"></canvas></div>

          <div class="btnRow">
            <button class="btn btnGhost" id="dinoRestart">Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„</button>
            <button class="btn" data-go="#games">Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø£Ù„Ø¹Ø§Ø¨</button>
          </div>
        </div>
      </section>

      <!-- FROG -->
      <section class="page" data-route="g-frog">
        <h2 class="sectionTitle">Frog ğŸ¸ğŸšª</h2>
        <p class="muted">3 Ø®Ø§Ù†Ø§Øª. Ø­Ø±Ù‘Ùƒ Ø§Ù„Ø¶ÙØ¯Ø¹ ÙÙˆÙ‚/ØªØ­Øª Ù„ØªÙØ§Ø¯ÙŠ Ø§Ù„Ø£Ø¨ÙˆØ§Ø¨ Ø§Ù„Ù„ÙŠ Ø¬Ø§ÙŠØ© Ù…Ù† Ø§Ù„ÙŠÙ…ÙŠÙ†.</p>

        <div class="card">
          <div class="qHead">
            <div class="badge" id="frogScore">Score: 0</div>
            <div class="badge" id="frogState">Ø¬Ø§Ù‡Ø²</div>
          </div>

          <div class="canvasWrap"><canvas id="frogCanvas" width="720" height="240"></canvas></div>

          <div class="btnRow">
            <button class="btn btnGhost" id="frogUp">â¬†ï¸ ÙÙˆÙ‚</button>
            <button class="btn btnGhost" id="frogDown">â¬‡ï¸ ØªØ­Øª</button>
            <button class="btn btnGhost" id="frogRestart">Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„</button>
            <button class="btn" data-go="#games">Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø£Ù„Ø¹Ø§Ø¨</button>
          </div>
        </div>
      </section>

      <!-- GENERAL QUIZ -->
      <section class="page" data-route="general">
        <h2 class="sectionTitle">Ø£Ø³Ø¦Ù„Ø© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ø§Ù…Ø© ğŸ§©</h2>
        <div class="card" id="generalQuiz"></div>
      </section>

      <!-- COUNTRIES QUIZ -->
      <section class="page" data-route="countries">
        <h2 class="sectionTitle">Ø£Ø³Ø¦Ù„Ø© Ø¹Ù† Ø§Ù„Ø¯ÙˆÙ„ ğŸŒ</h2>
        <div class="card" id="countriesQuiz"></div>
      </section>

      <!-- PREP3 -->
      <section class="page" data-route="prep3">
        <h2 class="sectionTitle">ØªØ§Ù„ØªØ© Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ â€“ Ø§Ù„ØªØ±Ù… Ø§Ù„ØªØ§Ù†ÙŠ ğŸ“š</h2>
        <p class="muted">Ø§Ø®ØªØ§Ø± Ø§Ù„Ù…Ø§Ø¯Ø©. Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ØªØ¯Ø±ÙŠØ¨ÙŠØ© ÙˆÙ…ØªÙ†ÙˆØ¹Ø© (Ù‚ÙˆØ§Ø¹Ø¯/Ù‚Ø±Ø§Ø¡Ø©/Ù…ÙØ±Ø¯Ø§Øª/Ù…Ø³Ø§Ø¦Ù„â€¦).</p>

        <div class="grid4">
          <div class="tile" data-go="#p3-ar"><div class="t">Ø¹Ø±Ø¨ÙŠ</div><div class="d">Ù†Ø­Ùˆ + Ù…Ù‡Ø§Ø±Ø§Øª</div></div>
          <div class="tile" data-go="#p3-en"><div class="t">Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ</div><div class="d">Functions/Reading/Vocab</div></div>
          <div class="tile" data-go="#p3-math"><div class="t">Ø±ÙŠØ§Ø¶ÙŠØ§Øª</div><div class="d">Ø¬Ø¨Ø± + Ù‡Ù†Ø¯Ø³Ø©</div></div>
          <div class="tile" data-go="#p3-sci"><div class="t">Ø¹Ù„ÙˆÙ…</div><div class="d">ØªÙØ§Ø¹Ù„Ø§Øª/ÙˆØ±Ø§Ø«Ø©/Ù‡Ø±Ù…ÙˆÙ†Ø§Øª</div></div>

          <div class="tile" data-go="#p3-ss"><div class="t">Ø¯Ø±Ø§Ø³Ø§Øª</div><div class="d">Ø¬ØºØ±Ø§ÙÙŠØ§/ØªØ§Ø±ÙŠØ®</div></div>
          <div class="tile" data-go="#p3-rel"><div class="t">Ø¯ÙŠÙ†</div><div class="d">Ù‚ÙŠÙ… + ÙÙ‡Ù…</div></div>
          <div class="tile" data-go="#p3-it"><div class="t">ÙƒÙ…Ø¨ÙŠÙˆØªØ±</div><div class="d">Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª/Flowchart</div></div>
          <div class="tile" data-go="#home"><div class="t">Ø±Ø¬ÙˆØ¹</div><div class="d">Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div></div>
        </div>

        <div class="card">
          <p class="muted">Ù…Ù„Ø§Ø­Ø¸Ø©: Ù„Ùˆ Ø¹Ø§ÙŠØ² Ø¨Ù†Ùƒ Ø£Ø³Ø¦Ù„Ø© Ø¶Ø®Ù… (100+ Ù„ÙƒÙ„ Ù…Ø§Ø¯Ø©)ØŒ Ù‡Ù†Ø²ÙˆØ¯Ù‡ ØªØ¯Ø±ÙŠØ¬ÙŠÙ‹Ø§ Ø¨Ù†ÙØ³ Ø§Ù„Ø´ÙƒÙ„ Ø¯Ù‡.</p>
        </div>
      </section>

      <section class="page" data-route="p3-ar"><h2 class="sectionTitle">Ø¹Ø±Ø¨ÙŠ â€“ ØªØ±Ù… ØªØ§Ù†ÙŠ</h2><div class="card" id="p3_ar"></div></section>
      <section class="page" data-route="p3-en"><h2 class="sectionTitle">Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ â€“ ØªØ±Ù… ØªØ§Ù†ÙŠ</h2><div class="card" id="p3_en"></div></section>
      <section class="page" data-route="p3-math"><h2 class="sectionTitle">Ø±ÙŠØ§Ø¶ÙŠØ§Øª â€“ ØªØ±Ù… ØªØ§Ù†ÙŠ</h2><div class="card" id="p3_math"></div></section>
      <section class="page" data-route="p3-sci"><h2 class="sectionTitle">Ø¹Ù„ÙˆÙ… â€“ ØªØ±Ù… ØªØ§Ù†ÙŠ</h2><div class="card" id="p3_sci"></div></section>
      <section class="page" data-route="p3-ss"><h2 class="sectionTitle">Ø¯Ø±Ø§Ø³Ø§Øª â€“ ØªØ±Ù… ØªØ§Ù†ÙŠ</h2><div class="card" id="p3_ss"></div></section>
      <section class="page" data-route="p3-rel"><h2 class="sectionTitle">Ø¯ÙŠÙ† â€“ ØªØ±Ù… ØªØ§Ù†ÙŠ</h2><div class="card" id="p3_rel"></div></section>
      <section class="page" data-route="p3-it"><h2 class="sectionTitle">ÙƒÙ…Ø¨ÙŠÙˆØªØ± â€“ ØªØ±Ù… ØªØ§Ù†ÙŠ</h2><div class="card" id="p3_it"></div></section>

      <!-- MESSAGES -->
      <section class="page" data-route="messages">
        <h2 class="sectionTitle">Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ âœ‰ï¸</h2>
        <p class="muted">Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§ ÙˆØ³ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„Ù‡Ø§ Ù„ØµØ§Ø­Ø¨ Ø§Ù„Ù…ÙˆÙ‚Ø¹.</p>

        <div class="card">
          <form id="msgForm" action="https://formspree.io/f/mykdkqza" method="POST">
            <label class="muted">Ø¥ÙŠÙ…ÙŠÙ„Ùƒ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
            <input class="field" type="email" name="email" placeholder="example@mail.com" autocomplete="email" />
            <div style="height:10px"></div>
            <label class="muted">Ø±Ø³Ø§Ù„ØªÙƒ</label>
            <textarea class="field" name="message" placeholder="Ø§ÙƒØªØ¨ Ù‡Ù†Ø§â€¦" required></textarea>

            <div class="btnRow">
              <button class="btn" type="submit">Ø¥Ø±Ø³Ø§Ù„</button>
              <button class="btn btnGhost" type="button" id="msgClear">Ù…Ø³Ø­</button>
            </div>

            <div class="status" id="msgStatus"></div>
          </form>

          <div class="footer">ÙŠØ±Ø¬Ù‰ Ø¹Ø¯Ù… ÙƒØªØ§Ø¨Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ø³Ø§Ø³Ø©.</div>
        </div>
      </section>

      <!-- THEMES -->
      <section class="page" data-route="themes">
        <h2 class="sectionTitle">Ø§Ù„Ø«ÙŠÙ…Ø§Øª ğŸ¨</h2>
        <p class="muted">ÙƒÙ„ Ø«ÙŠÙ… Ø¨ÙŠØºÙŠØ± Ù„ÙˆÙ† + Ø´ÙƒÙ„ + ØªØµÙ…ÙŠÙ… Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©.</p>
        <div class="themePicker" id="themePicker"></div>
      </section>
    </main>

    <nav>
      <div class="navBtn" data-go="#home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
      <div class="navBtn" data-go="#games">Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</div>
      <div class="navBtn" data-go="#messages">Ø§Ù„Ø±Ø³Ø§Ø¦Ù„</div>
      <div class="navBtn" data-go="#themes">Ø§Ù„Ø«ÙŠÙ…Ø§Øª</div>
    </nav>
  </div>

<script>
/* =========================
   Helpers + Router
========================= */
const $ = (s, p=document)=>p.querySelector(s);
const $$ = (s, p=document)=>Array.from(p.querySelectorAll(s));
const app = $("#app");
const pill = $("#pill");
function setPill(t){ pill.textContent = t; }

const ROUTES = new Set($$(".page").map(p => p.dataset.route));
function routeFromHash(){
  const raw = (location.hash || "#home").slice(1);
  return ROUTES.has(raw) ? raw : "home";
}
function showRoute(route){
  $$(".page").forEach(p => p.classList.toggle("active", p.dataset.route === route));
  $$(".navBtn").forEach(b => b.classList.toggle("active", (b.getAttribute("data-go")||"")==="#"+route));
  setPill("ğŸ“ " + route);
  onEnterRoute(route);
}
addEventListener("hashchange", ()=>showRoute(routeFromHash()));
document.addEventListener("click",(e)=>{
  const go = e.target.closest("[data-go]")?.getAttribute("data-go");
  if(go) location.hash = go;
});
showRoute(routeFromHash());

/* =========================
   Floating emojis
========================= */
const floatLayer = $("#floatLayer");
const floatEmojis = ["ğŸª","ğŸ®","âœ¨","ğŸ’","ğŸ§ ","ğŸŒˆ","ğŸ­","ğŸ§©","ğŸ”¥","ğŸ­","ğŸ’«","ğŸ›¸","ğŸŸ£","ğŸŸ¦","ğŸŸ¨","â­","ğŸ¯"];
function spawnEmojis(count){
  floatLayer.innerHTML="";
  for(let i=0;i<count;i++){
    const el=document.createElement("div");
    el.className="emoji";
    el.textContent=floatEmojis[(Math.random()*floatEmojis.length)|0];
    const left=Math.random()*100;
    const dur=9+Math.random()*11;
    const delay=-Math.random()*dur;
    el.style.left = left+"vw";
    el.style.setProperty("--x",(left-50)+"vw");
    el.style.animationDuration=dur+"s";
    el.style.animationDelay=delay+"s";
    el.style.top=(90+Math.random()*20)+"vh";
    floatLayer.appendChild(el);
  }
}
spawnEmojis(innerWidth<420?14:22);
addEventListener("resize",()=>spawnEmojis(innerWidth<420?14:22));

/* =========================
   Themes (design + layout changes)
========================= */
const THEMES = [
  {
    id:"neo",
    name:"Neo Glow",
    desc:"Ù†ÙŠÙˆÙ† + Ø²Ø¬Ø§Ø¬ÙŠ",
    className:"theme-card",
    vars:{ "--bg0":"#050814","--bg1":"#0a1233","--accentA":"#ffd666","--accentB":"#22d3ee","--accentC":"#a855f7","--layout-pad":"12px" }
  },
  {
    id:"minimal",
    name:"Minimal Dark",
    desc:"Ø´ÙƒÙ„ Ø¨Ø³ÙŠØ· ÙˆØ§Ø­ØªØ±Ø§ÙÙŠ",
    className:"theme-min",
    vars:{ "--bg0":"#07080c","--bg1":"#11131a","--accentA":"#7dd3fc","--accentB":"#2cff9f","--accentC":"#c084fc","--layout-pad":"10px" }
  },
  {
    id:"arc",
    name:"Arc UI",
    desc:"Ø­ÙˆØ§Ù Ø¯Ø§Ø¦Ø±ÙŠØ© Ù‚ÙˆÙŠØ© + Nav ÙƒØ¨Ø³ÙˆÙ„Ø©",
    className:"theme-arc",
    vars:{ "--bg0":"#120616","--bg1":"#250b30","--accentA":"#ff6bd6","--accentB":"#ffd666","--accentC":"#22d3ee","--layout-pad":"12px" }
  },
  {
    id:"gold",
    name:"Golden Dust",
    desc:"Ø°Ù‡Ø¨ÙŠ Ø¯Ø§ÙÙŠ + Ù„Ù…Ø¹Ø©",
    className:"theme-card",
    vars:{ "--bg0":"#120b02","--bg1":"#2a1706","--accentA":"#ffd666","--accentB":"#f59e0b","--accentC":"#22d3ee","--layout-pad":"12px" }
  }
];

function applyTheme(id){
  const t = THEMES.find(x=>x.id===id) || THEMES[0];
  // remove all theme classes then add the chosen one
  app.classList.remove(...THEMES.map(x=>x.className));
  app.classList.add(t.className);

  for(const k in t.vars) document.documentElement.style.setProperty(k, t.vars[k]);
  localStorage.setItem("themeId", t.id);
  setPill("ğŸ¨ " + t.name);
}

applyTheme(localStorage.getItem("themeId") || "neo");

const themePicker = $("#themePicker");
themePicker.innerHTML = THEMES.map(t=>{
  const sws = [t.vars["--accentA"], t.vars["--accentB"], t.vars["--accentC"]].map(v=>`<span class="sw" style="background:${v}"></span>`).join("");
  return `
    <div class="themeBtn" data-theme="${t.id}">
      <b>${t.name}</b>
      <div class="swatches">${sws}</div>
      <div class="muted" style="font-size:12.5px">${t.desc}</div>
    </div>
  `;
}).join("");

themePicker.addEventListener("click",(e)=>{
  const id = e.target.closest(".themeBtn")?.dataset.theme;
  if(id) applyTheme(id);
});

/* =========================
   Shared helpers
========================= */
function shuffle(a){
  const arr=a.slice();
  for(let i=arr.length-1;i>0;i--){
    const j=(Math.random()*(i+1))|0;
    [arr[i],arr[j]]=[arr[j],arr[i]];
  }
  return arr;
}

/* =========================
   Quiz Engine
========================= */
function mountQuiz(el, questions, opts={}){
  let idx=0, score=0;
  let q = shuffle(questions);

  function render(){
    const item = q[idx];
    const choices = shuffle(item.choices.map((c,i)=>({text:c, i})));

    el.innerHTML = `
      <div class="qHead">
        <div class="badge">Ø³Ø¤Ø§Ù„ ${idx+1} / ${q.length}</div>
        <div class="badge">Ø§Ù„Ù†ØªÙŠØ¬Ø©: ${score}</div>
        ${opts.tag ? `<div class="badge">${opts.tag}</div>` : ""}
      </div>

      <div class="question">${item.q}</div>

      <div class="choices">
        ${choices.map(ch=>`<div class="choice" data-ans="${ch.i}">${ch.text}</div>`).join("")}
      </div>

      <div class="qFooter">
        <button class="btn btnGhost" id="qPrev" ${idx===0?"disabled":""}>Ø±Ø¬ÙˆØ¹</button>
        <button class="btn btnGhost" id="qReset">Ø¥Ø¹Ø§Ø¯Ø©</button>
        <button class="btn" id="qNext">${idx===q.length-1 ? "Ø¥Ù†Ù‡Ø§Ø¡" : "Ø§Ù„ØªØ§Ù„ÙŠ"}</button>
      </div>

      <p class="muted" id="qHint" style="margin-top:8px"></p>
    `;

    const hint = $("#qHint", el);

    $$(".choice", el).forEach(ch=>{
      ch.addEventListener("click", ()=>{
        $$(".choice", el).forEach(x=>x.style.pointerEvents="none");
        const picked = +ch.dataset.ans;

        if(picked === item.answer){
          ch.classList.add("correct");
          score++;
          hint.textContent = "âœ… Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©";
        } else {
          ch.classList.add("wrong");
          const correctEl = $$(".choice", el).find(x => +x.dataset.ans === item.answer);
          if(correctEl) correctEl.classList.add("correct");
          hint.textContent = "âŒ Ø¥Ø¬Ø§Ø¨Ø© ØºÙŠØ± ØµØ­ÙŠØ­Ø©";
        }
      });
    });

    $("#qPrev", el).addEventListener("click", ()=>{ if(idx>0){ idx--; render(); } });
    $("#qReset", el).addEventListener("click", ()=>{ idx=0; score=0; q=shuffle(questions); render(); });
    $("#qNext", el).addEventListener("click", ()=>{
      if(idx === q.length-1){
        el.innerHTML = `
          <div class="qHead">
            <div class="badge">Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©: ${score} / ${q.length}</div>
          </div>
          <div class="card">
            <p class="muted">Ø§Ø¶ØºØ· Ø¥Ø¹Ø§Ø¯Ø© Ù„Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.</p>
            <div class="btnRow">
              <button class="btn" id="again">Ø¥Ø¹Ø§Ø¯Ø©</button>
              <button class="btn btnGhost" data-go="#prep3">Ø±Ø¬ÙˆØ¹ Ù„Ù„Ù…ÙˆØ§Ø¯</button>
            </div>
          </div>
        `;
        $("#again", el).addEventListener("click", ()=>{ idx=0; score=0; q=shuffle(questions); render(); });
      } else {
        idx++;
        render();
      }
    });
  }

  render();
}

/* =========================
   Content
========================= */
const generalQuestions = [
  { q:"Ø£ÙƒØ¨Ø± ÙƒÙˆÙƒØ¨ ÙÙŠ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø´Ù…Ø³ÙŠØ© Ù‡Ùˆâ€¦", choices:["Ø§Ù„Ø£Ø±Ø¶","Ø§Ù„Ù…Ø´ØªØ±ÙŠ","Ø§Ù„Ù…Ø±ÙŠØ®","Ø§Ù„Ø²Ù‡Ø±Ø©"], answer:1 },
  { q:"Ø§Ù„Ø¹Ù†ØµØ± Ø±Ù…Ø²Ù‡ O Ù‡Ùˆâ€¦", choices:["Ø°Ù‡Ø¨","Ø£ÙƒØ³Ø¬ÙŠÙ†","ÙØ¶Ø©","Ø­Ø¯ÙŠØ¯"], answer:1 },
  { q:"Ø£Ù‚Ø±Ø¨ ÙƒÙˆÙƒØ¨ Ù„Ù„Ø´Ù…Ø³ Ù‡Ùˆâ€¦", choices:["Ø¹Ø·Ø§Ø±Ø¯","Ø§Ù„Ø²Ù‡Ø±Ø©","Ø§Ù„Ø£Ø±Ø¶","Ø§Ù„Ù…Ø±ÙŠØ®"], answer:0 },
  { q:"Ø¹Ø¯Ø¯ Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø·ÙŠÙâ€¦", choices:["5","6","7","8"], answer:2 },
  { q:"Ø§Ù„Ù„ØºØ© Ø§Ù„Ø±Ø³Ù…ÙŠØ© ÙÙŠ Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„â€¦", choices:["Ø§Ù„Ø¥Ø³Ø¨Ø§Ù†ÙŠØ©","Ø§Ù„Ø¨Ø±ØªØºØ§Ù„ÙŠØ©","Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©","Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©"], answer:1 },
];

const countryQuestions = [
  { q:"Ø¹Ø§ØµÙ…Ø© ÙƒÙ†Ø¯Ø§ØŸ", choices:["ØªÙˆØ±ÙˆÙ†ØªÙˆ","Ø£ÙˆØªØ§ÙˆØ§","ÙØ§Ù†ÙƒÙˆÙØ±","Ù…ÙˆÙ†ØªØ±ÙŠØ§Ù„"], answer:1 },
  { q:"Ø¹Ø§ØµÙ…Ø© Ø£Ø³ØªØ±Ø§Ù„ÙŠØ§ØŸ", choices:["Ø³ÙŠØ¯Ù†ÙŠ","Ù…Ù„Ø¨ÙˆØ±Ù†","ÙƒØ§Ù†Ø¨ÙŠØ±Ø§","Ø¨ÙŠØ±Ø«"], answer:2 },
  { q:"Ø¹Ø§ØµÙ…Ø© ØªØ±ÙƒÙŠØ§ØŸ", choices:["Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„","Ø£Ù†Ù‚Ø±Ø©","Ø¥Ø²Ù…ÙŠØ±","Ø¨ÙˆØ±ØµØ©"], answer:1 },
  { q:"Ø¹Ø§ØµÙ…Ø© Ø§Ù„Ù…ØºØ±Ø¨ØŸ", choices:["Ù…Ø±Ø§ÙƒØ´","Ø§Ù„Ø¯Ø§Ø± Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡","Ø§Ù„Ø±Ø¨Ø§Ø·","Ø·Ù†Ø¬Ø©"], answer:2 },
  { q:"Ù…ØµØ± ØªÙ‚Ø¹ ÙÙŠâ€¦", choices:["Ø£ÙˆØ±ÙˆØ¨Ø§","Ø¢Ø³ÙŠØ§ ÙÙ‚Ø·","Ø£ÙØ±ÙŠÙ‚ÙŠØ§ (ÙˆØ³ÙŠÙ†Ø§Ø¡ Ø¢Ø³ÙŠÙˆÙŠ)","Ø£Ø³ØªØ±Ø§Ù„ÙŠØ§"], answer:2 },
];

/* Prep3 expanded (term2) â€” ØªØ¯Ø±ÙŠØ¨ÙŠØ©ØŒ Ù…ØªØ¯Ø±Ø¬Ø©ØŒ Ù‚Ø±ÙŠØ¨Ø© Ù…Ù† Ø´ÙƒÙ„ Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª */
const prep3 = {
  ar: [
    { q:"Ø§Ø®ØªØ± Ø§Ù„Ø¥Ø¹Ø±Ø§Ø¨ Ø§Ù„ØµØ­ÙŠØ­ Ù„Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø¸Ù„Ù„Ø©: Ù†Ø¬Ø­Ù Ø§Ù„Ø·Ø§Ù„Ø¨Ù **Ø§Ù„Ù…Ø¬ØªÙ‡Ø¯Ù**.", choices:["Ø®Ø¨Ø± Ù…Ø±ÙÙˆØ¹","Ù†Ø¹Øª Ù…Ø±ÙÙˆØ¹","Ù…ÙØ¹ÙˆÙ„ Ø¨Ù‡","Ø­Ø§Ù„"], answer:1 },
    { q:"Ø¹Ù„Ø§Ù…Ø© Ù†ØµØ¨ Ø§Ù„Ù…ÙØ¹ÙˆÙ„ Ø¨Ù‡ Ø§Ù„Ø£ØµÙ„ÙŠØ© Ù‡ÙŠâ€¦", choices:["Ø§Ù„Ø¶Ù…Ø©","Ø§Ù„ÙØªØ­Ø©","Ø§Ù„ÙƒØ³Ø±Ø©","Ø§Ù„Ø³ÙƒÙˆÙ†"], answer:1 },
    { q:"(Ø¥Ù†Ù‘Ù) ÙˆØ£Ø®ÙˆØ§ØªÙ‡Ø§ ØªÙ†ØµØ¨â€¦", choices:["Ø§Ù„Ù…Ø¨ØªØ¯Ø£","Ø§Ù„Ø®Ø¨Ø±","Ø§Ù„Ù…Ø¨ØªØ¯Ø£ ÙˆØ§Ù„Ø®Ø¨Ø±","Ø§Ù„ÙØ§Ø¹Ù„"], answer:0 },
    { q:"Ø§Ù„Ø¬Ù…Ù„Ø© Ø§Ù„ÙØ¹Ù„ÙŠØ© ØªØªÙƒÙˆÙ† Ù…Ù†â€¦", choices:["Ù…Ø¨ØªØ¯Ø£ ÙˆØ®Ø¨Ø±","ÙØ¹Ù„ ÙˆÙØ§Ø¹Ù„","Ø­Ø±Ù ÙˆØ§Ø³Ù…","ÙØ¹Ù„ ÙˆÙ…ÙØ¹ÙˆÙ„ ÙÙ‚Ø·"], answer:1 },
    { q:"Ø§Ù„ØªÙ…ÙŠÙŠØ² ÙŠØ£ØªÙŠ Ù„Ø±ÙØ¹â€¦", choices:["Ø§Ù„Ø¥Ø¨Ù‡Ø§Ù…","Ø§Ù„Ø¶Ù…ÙŠØ±","Ø§Ù„Ø³ÙƒÙˆÙ†","Ø§Ù„ØªØ´Ø¨ÙŠÙ‡"], answer:0 },
    { q:"Ø£ÙŠ Ù…Ù…Ø§ ÙŠÙ„ÙŠ Ø£Ø³Ù„ÙˆØ¨ Ø´Ø±Ø·ØŸ", choices:["Ø¥Ù† ØªØ¬ØªÙ‡Ø¯ ØªÙ†Ø¬Ø­","Ù…Ø§ Ø£Ø¬Ù…Ù„ Ø§Ù„Ø³Ù…Ø§Ø¡","Ù„ÙŠØª Ø§Ù„Ø´Ø¨Ø§Ø¨ ÙŠØ¹ÙˆØ¯","Ù‡Ù„ Ø­Ø¶Ø±ØªØŸ"], answer:0 },
    { q:"Ø¹Ù„Ø§Ù…Ø© Ø±ÙØ¹ Ø¬Ù…Ø¹ Ø§Ù„Ù…Ø°ÙƒØ± Ø§Ù„Ø³Ø§Ù„Ù…â€¦", choices:["Ø§Ù„ÙˆØ§Ùˆ","Ø§Ù„Ø£Ù„Ù","Ø§Ù„ÙŠØ§Ø¡","Ø§Ù„ÙØªØ­Ø©"], answer:0 },
    { q:"Ø§Ù„Ù…Ø¶Ø§Ù Ø¥Ù„ÙŠÙ‡ ÙŠÙƒÙˆÙ† Ø¯Ø§Ø¦Ù…Ù‹Ø§â€¦", choices:["Ù…Ù†ØµÙˆØ¨Ù‹Ø§","Ù…Ø±ÙÙˆØ¹Ù‹Ø§","Ù…Ø¬Ø±ÙˆØ±Ù‹Ø§","Ù…Ø¬Ø²ÙˆÙ…Ù‹Ø§"], answer:2 },
    { q:"Ù…Ù† Ø¹Ù„Ø§Ù…Ø§Øª Ø¬Ø²Ù… Ø§Ù„ÙØ¹Ù„ Ø§Ù„Ù…Ø¶Ø§Ø±Ø¹â€¦", choices:["Ø§Ù„ÙØªØ­Ø©","Ø§Ù„Ø³ÙƒÙˆÙ†","Ø§Ù„Ø¶Ù…Ø©","Ø§Ù„Ø£Ù„Ù"], answer:1 },
    { q:"(Ù„Ù†) Ù…Ù† Ø£Ø¯ÙˆØ§Øªâ€¦", choices:["Ø§Ù„Ø¬Ø²Ù…","Ø§Ù„Ù†ØµØ¨","Ø§Ù„Ø±ÙØ¹","Ø§Ù„Ø§Ø³ØªÙÙ‡Ø§Ù…"], answer:1 },
  ],

  en: [
    { q:"Choose: If I ___ time, I would help you.", choices:["have","had","has","having"], answer:1 },
    { q:"Choose: She is good ___ English.", choices:["at","in","on","to"], answer:1 },
    { q:"Choose: I have been here ___ two hours.", choices:["since","for","ago","yet"], answer:1 },
    { q:"Choose: He ___ to school yesterday.", choices:["go","went","goes","going"], answer:1 },
    { q:"Vocabulary: â€˜predictâ€™ meansâ€¦", choices:["ÙŠØªÙˆÙ‚Ø¹","ÙŠÙ†Ø³Ù‰","ÙŠÙƒØªØ¨","ÙŠÙ‚ÙØ²"], answer:0 },
    { q:"Language function: â€˜Could you help me?â€™ is used forâ€¦", choices:["Ø±ÙØ¶","Ø·Ù„Ø¨ Ù…Ø³Ø§Ø¹Ø¯Ø© Ø¨Ø£Ø¯Ø¨","ØªÙ‡Ø¯ÙŠØ¯","Ø³Ø®Ø±ÙŠØ©"], answer:1 },
    { q:"Choose: This is the boy ___ won the prize.", choices:["who","where","when","what"], answer:0 },
    { q:"Reading skill: â€˜inferenceâ€™ meansâ€¦", choices:["Ù…Ø¹Ù„ÙˆÙ…Ø© ØµØ±ÙŠØ­Ø©","Ø§Ø³ØªÙ†ØªØ§Ø¬ Ù…Ù† Ø§Ù„Ù†Øµ","ØªØ±Ø¬Ù…Ø© Ø­Ø±ÙÙŠØ©","Ø¹Ù†ÙˆØ§Ù† ÙÙ‚Ø·"], answer:1 },
    { q:"Choose: She was tired, ___ she kept working.", choices:["but","because","so","or"], answer:0 },
    { q:"Choose: I prefer tea ___ coffee.", choices:["than","to","from","at"], answer:1 },
  ],

  math: [
    { q:"Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³ØªÙ‚ÙŠÙ… Ø§Ù„Ù…Ø§Ø± Ø¨Ø§Ù„Ù†Ù‚Ø·ØªÙŠÙ† (2,1) Ùˆ(4,5) ÙŠØ³Ø§ÙˆÙŠâ€¦", choices:["1","2","3","4"], answer:1 },
    { q:"Ù…Ù†ØªØµÙ Ø§Ù„Ù‚Ø·Ø¹Ø© Ø¨ÙŠÙ† (a,b) Ùˆ(c,d) Ù‡Ùˆâ€¦", choices:["(a+c, b+d)","((a+c)/2, (b+d)/2)","(a-c, b-d)","(a/c, b/d)"], answer:1 },
    { q:"Ø¥Ø°Ø§ ÙƒØ§Ù† m1Ã—m2 = -1 ÙØ¥Ù† Ø§Ù„Ù…Ø³ØªÙ‚ÙŠÙ…ÙŠÙ†â€¦", choices:["Ù…ØªÙˆØ§Ø²ÙŠØ§Ù†","Ù…ØªØ¹Ø§Ù…Ø¯Ø§Ù†","Ù…Ù†Ø·Ø¨Ù‚Ø§Ù†","Ù„Ø§ Ø¹Ù„Ø§Ù‚Ø©"], answer:1 },
    { q:"Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ù…Ø³ØªÙ‚ÙŠÙ… Øµ = 3Ø³ - 2: Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ù…Ù‚Ø·ÙˆØ¹ Ù…Ù† Ù…Ø­ÙˆØ± Ø§Ù„ØµØ§Ø¯Ø§Øªâ€¦", choices:["3","-2","2","0"], answer:1 },
    { q:"Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³ØªÙ‚ÙŠÙ… Ø§Ù„Ø£ÙÙ‚ÙŠ ÙŠØ³Ø§ÙˆÙŠâ€¦", choices:["0","1","ØºÙŠØ± Ù…Ø¹Ø±Ù","-1"], answer:0 },
    { q:"Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø¯Ø§Ù„Ø© f(x)=xÂ² ÙØ¥Ù† f(3)=â€¦", choices:["6","9","3","12"], answer:1 },
    { q:"Ù†Ø³Ø¨Ø© 20 Ø¥Ù„Ù‰ 5 ØªØ³Ø§ÙˆÙŠâ€¦", choices:["2","3","4","5"], answer:2 },
    { q:"Ø¥Ø°Ø§ Ø²Ø§Ø¯Øª ÙƒÙ…ÙŠØ© Ø¨Ø§Ù„Ù€ØªØºÙŠØ± Ø§Ù„Ø·Ø±Ø¯ÙŠ Ù…Ø¹ Ø§Ù„Ø²Ù…Ù†â€¦", choices:["ØªÙ‚Ù„ Ù…Ø¹ Ø§Ù„Ø²Ù…Ù†","ØªØ²ÙŠØ¯ Ù…Ø¹ Ø§Ù„Ø²Ù…Ù†","Ø«Ø§Ø¨ØªØ©","Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©"], answer:1 },
    { q:"Ø§Ù„Ø§Ù†Ø­Ø±Ø§Ù Ø§Ù„Ù…Ø¹ÙŠØ§Ø±ÙŠ ÙŠÙ‚ÙŠØ³â€¦", choices:["Ø§Ù„Ø·ÙˆÙ„","Ø§Ù„ØªØ´ØªØª","Ø§Ù„Ø²Ù…Ù†","Ø§Ù„Ø³Ø±Ø¹Ø©"], answer:1 },
    { q:"Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³ØªÙ‚ÙŠÙ… Ø§Ù„Ø±Ø£Ø³ÙŠâ€¦", choices:["0","1","ØºÙŠØ± Ù…Ø¹Ø±Ù","-1"], answer:2 },
  ],

  sci: [
    { q:"Ø§Ù„ØªÙØ§Ø¹Ù„ Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ ÙŠÙ†ØªØ¬ Ø¹Ù†Ù‡â€¦", choices:["ØªØºÙŠØ± ÙÙŠØ²ÙŠØ§Ø¦ÙŠ ÙÙ‚Ø·","Ù…ÙˆØ§Ø¯ Ø¬Ø¯ÙŠØ¯Ø©","Ø§Ø®ØªÙØ§Ø¡ Ø§Ù„Ø°Ø±Ø§Øª","Ø²ÙŠØ§Ø¯Ø© ÙƒØªÙ„Ø© Ø¯Ø§Ø¦Ù…Ù‹Ø§"], answer:1 },
    { q:"Ù…Ù† Ø£Ù…Ø«Ù„Ø© ØªÙØ§Ø¹Ù„ Ø§Ù„Ø§Ø­ØªØ±Ø§Ù‚â€¦", choices:["Ø°ÙˆØ¨Ø§Ù† Ø§Ù„Ø³ÙƒØ±","Ø§Ø­ØªØ±Ø§Ù‚ Ø§Ù„Ø®Ø´Ø¨","ØªÙ…Ø¯Ø¯ Ø§Ù„Ù‡ÙˆØ§Ø¡","Ø§Ù†ØµÙ‡Ø§Ø± Ø§Ù„Ø«Ù„Ø¬"], answer:1 },
    { q:"Ø§Ù„Ø¬ÙŠÙ†Ø§Øª ØªÙˆØ¬Ø¯ Ø¹Ù„Ù‰â€¦", choices:["Ø§Ù„Ø±ÙŠØ¨ÙˆØ³ÙˆÙ…Ø§Øª","Ø§Ù„ÙƒØ±ÙˆÙ…ÙˆØ³ÙˆÙ…Ø§Øª","Ø§Ù„ØºØ´Ø§Ø¡ Ø§Ù„Ø¨Ù„Ø§Ø²Ù…ÙŠ","Ø§Ù„ÙØ¬ÙˆØ©"], answer:1 },
    { q:"Ø§Ù„Ù‡Ø±Ù…ÙˆÙ†Ø§Øª ØªÙÙØ±Ø² Ù…Ù†â€¦", choices:["Ø§Ù„ØºØ¯Ø¯","Ø§Ù„Ø¹Ø¸Ø§Ù…","Ø§Ù„Ø£Ø¸Ø§ÙØ±","Ø§Ù„Ø¬Ù„Ø¯"], answer:0 },
    { q:"Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø¥Ø´Ø¹Ø§Ø¹ÙŠ ÙŠØ¹Ù†ÙŠâ€¦", choices:["Ø§Ù†Ø¨Ø¹Ø§Ø« Ø¥Ø´Ø¹Ø§Ø¹Ø§Øª","Ø§Ù†Ø¹Ø¯Ø§Ù… Ø·Ø§Ù‚Ø©","ØªØ¬Ù…Ø¯","Ø§Ù†ØµÙ‡Ø§Ø±"], answer:0 },
    { q:"Ù‚Ø§Ù†ÙˆÙ† Ø­ÙØ¸ Ø§Ù„ÙƒØªÙ„Ø© ÙŠØ¹Ù†ÙŠâ€¦", choices:["Ø§Ù„ÙƒØªÙ„Ø© ØªØ®ØªÙÙŠ","Ø§Ù„ÙƒØªÙ„Ø© ØªØ²ÙŠØ¯ Ø¯Ø§Ø¦Ù…Ù‹Ø§","ÙƒØªÙ„Ø© Ø§Ù„Ù…ØªÙØ§Ø¹Ù„Ø§Øª = ÙƒØªÙ„Ø© Ø§Ù„Ù†ÙˆØ§ØªØ¬","Ù„Ø§ Ø¹Ù„Ø§Ù‚Ø©"], answer:2 },
    { q:"Ø§Ù„Ù…Ø­Ù„ÙˆÙ„ Ø§Ù„Ø­Ù…Ø¶ÙŠ ÙŠØªÙ…ÙŠØ² Ø¨Ø£Ù†Ù‡â€¦", choices:["pH Ø£ÙƒØ¨Ø± Ù…Ù† 7","pH Ø£Ù‚Ù„ Ù…Ù† 7","pH ÙŠØ³Ø§ÙˆÙŠ 7 Ø¯Ø§Ø¦Ù…Ù‹Ø§","Ù„Ø§ ÙŠÙ‚Ø§Ø³"], answer:1 },
    { q:"Ø§Ù„Ø£Ù…Ù„Ø§Ø­ ØªØªÙƒÙˆÙ† ØºØ§Ù„Ø¨Ù‹Ø§ Ù…Ù† ØªÙØ§Ø¹Ù„â€¦", choices:["Ø­Ù…Ø¶ + Ù‚Ø§Ø¹Ø¯Ø©","Ù…Ø§Ø¡ + Ù‡ÙˆØ§Ø¡","ÙÙ„Ø² + Ø¶ÙˆØ¡","Ø³ÙƒØ± + Ù…Ø§Ø¡"], answer:0 },
    { q:"Ø§Ù„ÙˆØ±Ø§Ø«Ø© ØªÙ†ØªÙ‚Ù„ Ø¹Ø¨Ø±â€¦", choices:["Ø§Ù„Ø¬ÙŠÙ†Ø§Øª","Ø§Ù„Ø¯Ù‡ÙˆÙ†","Ø§Ù„Ù…Ø§Ø¡","Ø§Ù„Ù‡ÙˆØ§Ø¡"], answer:0 },
    { q:"Ø§Ù„Ù‡Ø±Ù…ÙˆÙ†Ø§Øª ØªÙ†Ø¸Ù…â€¦", choices:["Ø§Ù„Ù†Ù…Ùˆ","Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø­ÙŠÙˆÙŠØ©","Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©","ÙƒÙ„ Ù…Ø§ Ø³Ø¨Ù‚"], answer:3 },
  ],

  ss: [
    { q:"Ø£ÙƒØ¨Ø± Ù‚Ø§Ø±Ø© Ù…Ø³Ø§Ø­Ø© Ù‡ÙŠâ€¦", choices:["Ø£ÙØ±ÙŠÙ‚ÙŠØ§","Ø¢Ø³ÙŠØ§","Ø£ÙˆØ±ÙˆØ¨Ø§","Ø£Ø³ØªØ±Ø§Ù„ÙŠØ§"], answer:1 },
    { q:"Ø§Ù„Ø¹ÙˆØ§Ù…Ù„ Ø§Ù„Ø¨Ø´Ø±ÙŠØ© Ù„ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø³ÙƒØ§Ù† ØªØ´Ù…Ù„â€¦", choices:["Ø§Ù„ØµÙ†Ø§Ø¹Ø© ÙˆØ§Ù„ØªØ¬Ø§Ø±Ø©","Ø§Ù„Ø¬Ø¨Ø§Ù„ ÙÙ‚Ø·","Ø§Ù„Ø£Ù…Ø·Ø§Ø± ÙÙ‚Ø·","Ø§Ù„Ø±ÙŠØ§Ø­ ÙÙ‚Ø·"], answer:0 },
    { q:"Ø§Ù„Ù…Ù†Ø§Ø® ÙŠØ¤Ø«Ø± Ø¹Ù„Ù‰â€¦", choices:["Ø§Ù„Ù†Ø¨Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ","Ø§Ù„ØªØ±Ø¨Ø©","Ø§Ù„Ø¥Ù†Ø³Ø§Ù†","ÙƒÙ„ Ù…Ø§ Ø³Ø¨Ù‚"], answer:3 },
    { q:"Ù…Ù† Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¶Ø¹Ù Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ Ù„Ù„Ø¯ÙˆÙ„Ø©â€¦", choices:["Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù†ÙÙˆØ° Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ","Ø§Ø®ØªÙØ§Ø¡ Ø§Ù„ØªØ¬Ø§Ø±Ø©","ØªÙˆÙ‚Ù Ø§Ù„Ù…Ù†Ø§Ø®","Ù„Ø§ Ø´ÙŠØ¡"], answer:0 },
    { q:"Ø§Ù„Ø³Ù‡Ù„ Ù…Ù† Ø§Ù„ØªØ¶Ø§Ø±ÙŠØ³ ÙŠØªÙ…ÙŠØ² Ø¨Ù€â€¦", choices:["Ø³Ø·Ø­ Ù…Ù†Ø¨Ø³Ø·","Ø§Ø±ØªÙØ§Ø¹ Ø´Ø¯ÙŠØ¯","Ø¬Ù„ÙŠØ¯ Ø¯Ø§Ø¦Ù…","ÙÙˆÙ‡Ø§Øª Ø¨Ø±ÙƒØ§Ù†ÙŠØ© Ø¯Ø§Ø¦Ù…Ù‹Ø§"], answer:0 },
    { q:"Ø§Ù„Ø§Ø³ØªØ¹Ù…Ø§Ø± ÙŠØ³ØªÙ‡Ø¯Ù ØºØ§Ù„Ø¨Ù‹Ø§â€¦", choices:["Ø§Ù„Ù…ÙˆØ§Ø±Ø¯","Ø§Ù„ÙƒØªØ¨","Ø§Ù„Ø·Ù‚Ø³","Ø§Ù„Ù„ØºØ© ÙÙ‚Ø·"], answer:0 },
    { q:"Ø§Ù„Ù‚Ø§Ø±Ø© Ø§Ù„ØªÙŠ ØªØ¶Ù… Ø£ÙƒØ¨Ø± Ø¹Ø¯Ø¯ Ù…Ù† Ø§Ù„Ø³ÙƒØ§Ù†â€¦", choices:["Ø£ÙØ±ÙŠÙ‚ÙŠØ§","Ø¢Ø³ÙŠØ§","Ø£ÙˆØ±ÙˆØ¨Ø§","Ø£Ù…Ø±ÙŠÙƒØ§ Ø§Ù„Ø¬Ù†ÙˆØ¨ÙŠØ©"], answer:1 },
    { q:"Ø§Ù„Ø²Ø±Ø§Ø¹Ø© ØªØ²Ø¯Ù‡Ø± Ø£ÙƒØ«Ø± ÙÙŠâ€¦", choices:["Ø§Ù„Ù…Ù†Ø§Ø·Ù‚ Ø´Ø¯ÙŠØ¯Ø© Ø§Ù„Ø¬ÙØ§Ù","Ø§Ù„Ù…Ù†Ø§Ø·Ù‚ Ø°Ø§Øª ØªØ±Ø¨Ø© Ø®ØµØ¨Ø© ÙˆÙ…ÙŠØ§Ù‡","Ù‚Ù…Ù… Ø§Ù„Ø¬Ø¨Ø§Ù„","Ø§Ù„Ù…Ø­ÙŠØ·"], answer:1 },
    { q:"ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø³ÙƒØ§Ù† ØºÙŠØ± Ù…ØªØ³Ø§ÙˆÙ Ø¨Ø³Ø¨Ø¨â€¦", choices:["Ø¹ÙˆØ§Ù…Ù„ Ø·Ø¨ÙŠØ¹ÙŠØ© ÙˆØ¨Ø´Ø±ÙŠØ©","Ø³Ø¨Ø¨ ÙˆØ§Ø­Ø¯ ÙÙ‚Ø·","Ù„Ø§ Ø³Ø¨Ø¨","Ø§Ù„ØµÙˆØª"], answer:0 },
    { q:"Ø§Ù„Ù…ÙˆØ§Ù†Ø¦ ØªØ³Ø§Ø¹Ø¯ Ø¹Ù„Ù‰â€¦", choices:["Ø§Ù„ØªØ¬Ø§Ø±Ø©","Ø§Ù„Ø²Ù„Ø§Ø²Ù„","Ø§Ù„Ø¬ÙØ§Ù","Ø§Ù„Ù†ÙˆÙ…"], answer:0 },
  ],

  rel: [
    { q:"Ù…Ù† Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ø¹Ø¨Ø§Ø¯Ø©â€¦", choices:["Ø§Ù„ØªÙØ§Ø®Ø±","ØªÙ‡Ø°ÙŠØ¨ Ø§Ù„Ù†ÙØ³","Ø§Ù„Ø®ØµØ§Ù…","Ø§Ù„ØºÙŠØ¨Ø©"], answer:1 },
    { q:"Ø§Ù„Ø£Ù…Ø§Ù†Ø© ØªØ¹Ù†ÙŠâ€¦", choices:["Ø­ÙØ¸ Ø§Ù„Ø­Ù‚ÙˆÙ‚","Ø§Ù„ÙƒØ°Ø¨","Ø§Ù„Ø¥Ø³Ø§Ø¡Ø©","Ø§Ù„Ø¸Ù„Ù…"], answer:0 },
    { q:"Ø§Ù„ØµØ¯Ù‚ ÙŠØ¤Ø¯ÙŠ Ø¥Ù„Ù‰â€¦", choices:["Ø«Ù‚Ø© Ø§Ù„Ù†Ø§Ø³","ÙƒØ±Ù‡ Ø§Ù„Ù†Ø§Ø³","Ø¶Ø¹Ù Ø§Ù„Ù…Ø¬ØªÙ…Ø¹","Ù…Ø´Ø§ÙƒÙ„ ÙÙ‚Ø·"], answer:0 },
    { q:"ØµÙ„Ø© Ø§Ù„Ø±Ø­Ù… Ù…Ø¹Ù†Ø§Ù‡Ø§â€¦", choices:["Ù‚Ø·Ø¹ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª","Ø­Ø³Ù† Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø£Ù‚Ø§Ø±Ø¨","Ø§Ù„Ø³Ø®Ø±ÙŠØ©","Ø§Ù„ØªØ¬Ø§Ù‡Ù„"], answer:1 },
    { q:"Ù…Ù† Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù…Ù‡Ù…Ø©â€¦", choices:["Ø§Ù„Ø¹Ø¯Ù„","Ø§Ù„Ø³Ø±Ù‚Ø©","Ø§Ù„ØªÙ†Ù…Ø±","Ø§Ù„ØºØ´"], answer:0 },
    { q:"Ø§Ù„Ø¥Ø­Ø³Ø§Ù† ÙŠØ¹Ù†ÙŠâ€¦", choices:["Ø¥ØªÙ‚Ø§Ù† Ø§Ù„Ø¹Ù…Ù„ ÙˆÙØ¹Ù„ Ø§Ù„Ø®ÙŠØ±","Ø§Ù„ÙƒØ°Ø¨","Ø§Ù„ÙƒØ³Ù„","Ø§Ù„ØªÙ‡ÙˆØ±"], answer:0 },
    { q:"Ø§Ù„ØªØ¹Ø§ÙˆÙ† ÙŠØ³Ø§Ø¹Ø¯ Ø¹Ù„Ù‰â€¦", choices:["Ø¥Ù†Ø¬Ø§Ø² Ø§Ù„Ø£Ø¹Ù…Ø§Ù„","Ø²ÙŠØ§Ø¯Ø© Ø§Ù„ÙÙˆØ¶Ù‰","Ù‚Ø·Ø¹ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª","Ø§Ù„Ø®Ø³Ø§Ø±Ø©"], answer:0 },
    { q:"Ø§Ù„ØºØ´ ÙÙŠ Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†â€¦", choices:["Ø³Ù„ÙˆÙƒ ØµØ­ÙŠØ­","Ø³Ù„ÙˆÙƒ Ø®Ø§Ø·Ø¦","Ù…Ø·Ù„ÙˆØ¨","Ø¹Ø§Ø¯ÙŠ Ø¯Ø§Ø¦Ù…Ù‹Ø§"], answer:1 },
    { q:"Ø§Ù„Ø±Ø­Ù…Ø© ØªØ¸Ù‡Ø± ÙÙŠâ€¦", choices:["Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¶Ø¹ÙŠÙ","Ø§Ù„Ø£Ø°Ù‰","Ø§Ù„Ø¸Ù„Ù…","Ø§Ù„ØªÙ†Ù…Ø±"], answer:0 },
    { q:"Ø§Ø­ØªØ±Ø§Ù… Ø§Ù„ÙƒØ¨ÙŠØ± ÙŠØ¹Ù†ÙŠâ€¦", choices:["Ø³ÙˆØ¡ Ø§Ù„ÙƒÙ„Ø§Ù…","ØªÙ‚Ø¯ÙŠØ±Ù‡ ÙˆØ§Ù„Ù„ÙŠÙ† Ù…Ø¹Ù‡","Ø§Ù„Ø³Ø®Ø±ÙŠØ©","Ø§Ù„Ù…Ù‚Ø§Ø·Ø¹Ø©"], answer:1 },
  ],

  it: [
    { q:"Ø±Ù…Ø² Ø§Ù„Ù‚Ø±Ø§Ø± (Decision) ÙÙŠ Ø®Ø±ÙŠØ·Ø© Ø§Ù„ØªØ¯ÙÙ‚ ÙŠÙƒÙˆÙ†â€¦", choices:["Ù…Ø³ØªØ·ÙŠÙ„","Ù…ÙØ¹ÙŠÙ‘Ù†","Ø¯Ø§Ø¦Ø±Ø©","Ù…ØªÙˆØ§Ø²ÙŠ Ø£Ø¶Ù„Ø§Ø¹"], answer:1 },
    { q:"Ø§Ù„Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© Ù‡ÙŠâ€¦", choices:["Ø®Ø·ÙˆØ§Øª Ù„Ø­Ù„ Ù…Ø´ÙƒÙ„Ø©","Ù†ÙˆØ¹ Ø´Ø§Ø´Ø©","Ù„Ø¹Ø¨Ø©","Ù…Ù„Ù ØµÙˆØª"], answer:0 },
    { q:"Loop ÙŠÙØ³ØªØ®Ø¯Ù… Ù„Ù€â€¦", choices:["ØªÙƒØ±Ø§Ø± Ø®Ø·ÙˆØ§Øª","Ø­Ø°Ù Ù…Ù„ÙØ§Øª","Ø²ÙŠØ§Ø¯Ø© Ø§Ù„ØµÙˆØª","ØªØºÙŠÙŠØ± Ù„ÙˆÙ†"], answer:0 },
    { q:"Debugging ÙŠØ¹Ù†ÙŠâ€¦", choices:["ØªØµØ­ÙŠØ­ Ø£Ø®Ø·Ø§Ø¡","ØªØ´ØºÙŠÙ„ ÙÙŠØ¯ÙŠÙˆ","Ø­Ø°Ù ØªØ·Ø¨ÙŠÙ‚","Ù†Ø³Ø® Ù…Ù„Ù"], answer:0 },
    { q:"Ø§Ù„Ù…ØªØºÙŠØ± (Variable) Ù‡Ùˆâ€¦", choices:["Ù‚ÙŠÙ…Ø© Ø«Ø§Ø¨ØªØ© Ø¯Ø§Ø¦Ù…Ù‹Ø§","Ù…ÙƒØ§Ù† Ù„ØªØ®Ø²ÙŠÙ† Ù‚ÙŠÙ…Ø© ØªØªØºÙŠØ±","Ø²Ø±","ØµÙˆØ±Ø©"], answer:1 },
    { q:"Ø±Ù…Ø² Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„/Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬ ÙÙŠ Flowchart ØºØ§Ù„Ø¨Ù‹Ø§â€¦", choices:["Ù…ØªÙˆØ§Ø²ÙŠ Ø§Ù„Ø£Ø¶Ù„Ø§Ø¹","Ø¯Ø§Ø¦Ø±Ø©","Ù…Ø³ØªØ·ÙŠÙ„","Ù…Ø¹ÙŠÙ†"], answer:0 },
    { q:"Ø§Ù„Ù€ IDE ÙŠØ¹Ù†ÙŠâ€¦", choices:["Ø¨ÙŠØ¦Ø© ØªØ·ÙˆÙŠØ± Ù…ØªÙƒØ§Ù…Ù„Ø©","Ù…Ù„Ù ØµÙˆØª","Ù…ØªØµÙØ­","ÙÙŠØ±ÙˆØ³"], answer:0 },
    { q:"Event Handler Ù‡Ùˆâ€¦", choices:["ÙƒÙˆØ¯ ÙŠØªÙ†ÙØ° Ø¹Ù†Ø¯ Ø­Ø¯Ø«","ØµÙˆØ±Ø©","Ù…ÙˆØ³ÙŠÙ‚Ù‰","Ø²Ø±Ø§Ø±"], answer:0 },
    { q:"Ø§Ù„Ù€ Algorithm Ù„Ø§Ø²Ù… ØªÙƒÙˆÙ†â€¦", choices:["ÙˆØ§Ø¶Ø­Ø© ÙˆÙ…Ø­Ø¯Ø¯Ø©","Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©","Ø·ÙˆÙŠÙ„Ø© Ø¬Ø¯Ù‹Ø§","Ø³Ø±ÙŠØ©"], answer:0 },
    { q:"Ø§Ù„Ù€ Flowchart ÙŠØ³Ø§Ø¹Ø¯ Ø¹Ù„Ù‰â€¦", choices:["ØªØµÙˆÙŠØ± Ø®Ø·ÙˆØ§Øª Ø§Ù„Ø­Ù„","Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡","Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©","Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù…Ù†Ø·Ù‚"], answer:0 },
  ],
};

/* =========================
   Init flags (init on open)
========================= */
const initFlags = {};
function onEnterRoute(route){
  if(route === "general" && !initFlags.general){
    initFlags.general=true;
    mountQuiz($("#generalQuiz"), generalQuestions, { tag:"General" });
  }
  if(route === "countries" && !initFlags.countries){
    initFlags.countries=true;
    mountQuiz($("#countriesQuiz"), countryQuestions, { tag:"Countries" });
  }

  if(route === "p3-ar" && !initFlags.p3ar){ initFlags.p3ar=true; mountQuiz($("#p3_ar"), prep3.ar, { tag:"Ø¹Ø±Ø¨ÙŠ" }); }
  if(route === "p3-en" && !initFlags.p3en){ initFlags.p3en=true; mountQuiz($("#p3_en"), prep3.en, { tag:"English" }); }
  if(route === "p3-math" && !initFlags.p3m){ initFlags.p3m=true; mountQuiz($("#p3_math"), prep3.math, { tag:"Math" }); }
  if(route === "p3-sci" && !initFlags.p3s){ initFlags.p3s=true; mountQuiz($("#p3_sci"), prep3.sci, { tag:"Science" }); }
  if(route === "p3-ss" && !initFlags.p3ss){ initFlags.p3ss=true; mountQuiz($("#p3_ss"), prep3.ss, { tag:"Social" }); }
  if(route === "p3-rel" && !initFlags.p3rel){ initFlags.p3rel=true; mountQuiz($("#p3_rel"), prep3.rel, { tag:"Religion" }); }
  if(route === "p3-it" && !initFlags.p3it){ initFlags.p3it=true; mountQuiz($("#p3_it"), prep3.it, { tag:"IT" }); }

  if(route === "messages" && !initFlags.msg){ initFlags.msg=true; initMessages(); }

  if(route === "g-2048" && !initFlags.e2048){ initFlags.e2048=true; initEmoji2048(); }
  if(route === "g-whack" && !initFlags.whack){ initFlags.whack=true; initWhack(); }
  if(route === "g-react" && !initFlags.react){ initFlags.react=true; initReaction(); }
  if(route === "g-maze" && !initFlags.maze){ initFlags.maze=true; initMaze(); }
  if(route === "g-typing" && !initFlags.typing){ initFlags.typing=true; initTypingRush(); }
  if(route === "g-dino" && !initFlags.dino){ initFlags.dino=true; initDino(); }
  if(route === "g-frog" && !initFlags.frog){ initFlags.frog=true; initFrog(); }
}

/* =========================
   Messages (Formspree)
========================= */
function initMessages(){
  const form = $("#msgForm");
  const statusEl = $("#msgStatus");
  const clearBtn = $("#msgClear");
  const setStatus = (m)=>{ statusEl.textContent=m; statusEl.classList.add("show"); };

  clearBtn.addEventListener("click", ()=>{
    form.reset();
    statusEl.classList.remove("show");
  });

  form.addEventListener("submit", async (e)=>{
    e.preventDefault();
    setStatus("Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„â€¦");

    try{
      const res = await fetch(form.action, {
        method:"POST",
        body: new FormData(form),
        headers: { "Accept":"application/json" }
      });

      if(res.ok){
        setStatus("âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­.");
        form.reset();
      } else {
        let data = {};
        try{ data = await res.json(); } catch {}
        setStatus("âŒ ÙØ´Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ù„Ø§Ø­Ù‚Ù‹Ø§.");
      }
    } catch{
      setStatus("âŒ Ù…Ø´ÙƒÙ„Ø© Ø§ØªØµØ§Ù„. ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª Ø«Ù… Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.");
    }
  });
}

/* =========================
   Emoji 2048
========================= */
function initEmoji2048(){
  const gridEl = $("#e2048Grid");
  const scoreEl = $("#e2048Score");
  const bestEl = $("#e2048Best");
  const resetBtn = $("#e2048Reset");

  const levels = ["ğŸ˜€","ğŸ˜„","ğŸ˜","ğŸ¥³","ğŸ¤©","ğŸ‘‘","ğŸª","ğŸŒŸ","ğŸ’","ğŸ”¥"];
  let board = Array(16).fill(0); // store level index+1, 0 empty
  let score=0;
  let best = +localStorage.getItem("e2048Best") || 0;
  bestEl.textContent = "Best: " + best;

  function addRandom(){
    const empty = board.map((v,i)=>v===0?i:-1).filter(i=>i>=0);
    if(!empty.length) return;
    const i = empty[(Math.random()*empty.length)|0];
    board[i] = Math.random()<0.9 ? 1 : 2;
  }

  function render(){
    gridEl.innerHTML="";
    for(let i=0;i<16;i++){
      const v = board[i];
      const div = document.createElement("div");
      div.className="cell";
      div.textContent = v===0 ? "" : levels[v-1];
      gridEl.appendChild(div);
    }
    scoreEl.textContent = "Score: " + score;
    if(score>best){
      best=score;
      localStorage.setItem("e2048Best", best);
      bestEl.textContent = "Best: " + best;
    }
  }

  function compress(line){
    const a = line.filter(x=>x!==0);
    while(a.length<4) a.push(0);
    return a;
  }

  function merge(line){
    for(let i=0;i<3;i++){
      if(line[i] && line[i]===line[i+1]){
        line[i] = Math.min(line[i]+1, levels.length);
        line[i+1]=0;
        score += line[i]*5;
      }
    }
    return line;
  }

  function move(dir){
    const old = board.slice();

    const getRow = (r)=> board.slice(r*4, r*4+4);
    const setRow = (r, arr)=> { for(let i=0;i<4;i++) board[r*4+i]=arr[i]; };

    const getCol = (c)=> [board[c],board[c+4],board[c+8],board[c+12]];
    const setCol = (c, arr)=> { board[c]=arr[0]; board[c+4]=arr[1]; board[c+8]=arr[2]; board[c+12]=arr[3]; };

    if(dir==="left" || dir==="right"){
      for(let r=0;r<4;r++){
        let line = getRow(r);
        if(dir==="right") line.reverse();
        line = compress(line);
        line = merge(line);
        line = compress(line);
        if(dir==="right") line.reverse();
        setRow(r, line);
      }
    } else {
      for(let c=0;c<4;c++){
        let line = getCol(c);
        if(dir==="down") line.reverse();
        line = compress(line);
        line = merge(line);
        line = compress(line);
        if(dir==="down") line.reverse();
        setCol(c, line);
      }
    }

    const changed = old.some((v,i)=>v!==board[i]);
    if(changed){
      addRandom();
      render();
    }
  }

  function reset(){
    board = Array(16).fill(0);
    score = 0;
    addRandom(); addRandom();
    render();
  }

  // Swipe + keyboard
  let sx=0, sy=0;
  gridEl.addEventListener("pointerdown",(e)=>{ sx=e.clientX; sy=e.clientY; });
  gridEl.addEventListener("pointerup",(e)=>{
    const dx = e.clientX - sx;
    const dy = e.clientY - sy;
    if(Math.abs(dx)<25 && Math.abs(dy)<25) return;
    if(Math.abs(dx)>Math.abs(dy)){
      move(dx>0?"right":"left");
    } else {
      move(dy>0?"down":"up");
    }
  });

  window.addEventListener("keydown",(e)=>{
    if(!$("#e2048Grid")) return;
    const r = routeFromHash();
    if(r!=="g-2048") return;
    if(e.key==="ArrowLeft") move("left");
    if(e.key==="ArrowRight") move("right");
    if(e.key==="ArrowUp") move("up");
    if(e.key==="ArrowDown") move("down");
  });

  resetBtn.addEventListener("click", reset);
  reset();
}

/* =========================
   Whack-a-Emoji
========================= */
function initWhack(){
  const arena = $("#whackArena");
  const scoreEl = $("#whackScore");
  const timerEl = $("#whackTimer");
  const startBtn = $("#whackStart");
  const resetBtn = $("#whackReset");

  const pool = ["ğŸ˜‚","ğŸ”¥","ğŸ’","ğŸ§ ","ğŸ¯","âš¡","ğŸŸ£","ğŸ­","ğŸª","ğŸ‘‘"];
  let score=0, time=30, running=false, interval=null, popTimeout=null;
  let activeIndex = -1;

  function build(){
    arena.innerHTML="";
    for(let i=0;i<9;i++){
      const hole = document.createElement("div");
      hole.className="whackHole";
      hole.textContent="Â·";
      hole.addEventListener("click", ()=>{
        if(!running) return;
        if(i===activeIndex){
          score++;
          scoreEl.textContent="Score: " + score;
          activeIndex=-1;
          hole.textContent="Â·";
        }
      });
      arena.appendChild(hole);
    }
  }

  function pop(){
    if(!running) return;
    // clear old
    if(activeIndex>=0){
      arena.children[activeIndex].textContent="Â·";
    }
    activeIndex = (Math.random()*9)|0;
    arena.children[activeIndex].textContent = pool[(Math.random()*pool.length)|0];

    const life = 350 + Math.random()*450;
    popTimeout = setTimeout(()=>{
      if(activeIndex>=0){
        arena.children[activeIndex].textContent="Â·";
        activeIndex=-1;
      }
      pop();
    }, life);
  }

  function start(){
    if(running) return;
    running=true;
    score=0; time=30; activeIndex=-1;
    scoreEl.textContent="Score: 0";
    timerEl.textContent="Time: 30";

    interval = setInterval(()=>{
      time--;
      timerEl.textContent="Time: " + time;
      if(time<=0){
        stop();
      }
    }, 1000);

    pop();
  }

  function stop(){
    running=false;
    clearInterval(interval); interval=null;
    clearTimeout(popTimeout); popTimeout=null;
    if(activeIndex>=0) arena.children[activeIndex].textContent="Â·";
    activeIndex=-1;
  }

  function reset(){
    stop();
    score=0; time=30;
    scoreEl.textContent="Score: 0";
    timerEl.textContent="Time: 30";
  }

  startBtn.addEventListener("click", start);
  resetBtn.addEventListener("click", reset);
  build();
}

/* =========================
   Reaction Test
========================= */
function initReaction(){
  const box = $("#reactBox");
  const bestEl = $("#reactBest");
  const startBtn = $("#reactStart");
  const resetBtn = $("#reactReset");

  let state="idle"; // idle -> waiting -> go -> done
  let tStart=0, timeout=null;
  let best = +localStorage.getItem("reactBest") || 0;
  bestEl.textContent = best ? ("Ø£ÙØ¶Ù„ Ø²Ù…Ù†: " + best + "ms") : "Ø£ÙØ¶Ù„ Ø²Ù…Ù†: â€”";

  function setBox(text, good=false){
    box.textContent = text;
    box.style.background = good
      ? "color-mix(in srgb, var(--accentB) 22%, rgba(0,0,0,.22))"
      : "rgba(0,0,0,.22)";
    box.style.borderColor = good
      ? "color-mix(in srgb, var(--accentB) 55%, rgba(255,255,255,.14))"
      : "rgba(255,255,255,.14)";
  }

  function start(){
    if(state==="waiting") return;
    state="waiting";
    setBox("Ø§Ø³ØªÙ†Ù‰â€¦", false);

    const delay = 900 + Math.random()*2200;
    clearTimeout(timeout);
    timeout = setTimeout(()=>{
      state="go";
      setBox("Ø§Ø¶ØºØ·!", true);
      tStart = performance.now();
    }, delay);
  }

  box.addEventListener("click", ()=>{
    if(state==="go"){
      const ms = Math.round(performance.now() - tStart);
      state="done";
      setBox("Ø²Ù…Ù†Ùƒ: " + ms + "ms", true);
      if(!best || ms<best){
        best=ms;
        localStorage.setItem("reactBest", best);
        bestEl.textContent = "Ø£ÙØ¶Ù„ Ø²Ù…Ù†: " + best + "ms";
      }
    } else if(state==="waiting"){
      // too early
      clearTimeout(timeout);
      state="idle";
      setBox("Ø¨Ø¯Ø±ÙŠ! Ø¬Ø±Ù‘Ø¨ ØªØ§Ù†ÙŠ.", false);
    }
  });

  function reset(){
    clearTimeout(timeout);
    state="idle";
    setBox("Ø¬Ø§Ù‡Ø²", false);
  }

  startBtn.addEventListener("click", start);
  resetBtn.addEventListener("click", reset);
  reset();
}

/* =========================
   Maze (10x10)
========================= */
function initMaze(){
  const gridEl = $("#mazeGrid");
  const movesEl = $("#mazeMoves");
  const stateEl = $("#mazeState");
  const btns = {
    up: $("#mazeUp"), down: $("#mazeDown"),
    left: $("#mazeLeft"), right: $("#mazeRight"),
    reset: $("#mazeReset")
  };

  // 0 empty, 1 wall
  const map = [
    [0,1,0,0,0,0,1,0,0,0],
    [0,1,0,1,1,0,1,0,1,0],
    [0,0,0,0,1,0,0,0,1,0],
    [1,1,1,0,1,1,1,0,1,0],
    [0,0,0,0,0,0,0,0,1,0],
    [0,1,1,1,1,1,0,1,1,0],
    [0,0,0,0,0,1,0,0,0,0],
    [0,1,1,1,0,1,1,1,1,0],
    [0,0,0,1,0,0,0,0,1,0],
    [0,1,0,0,0,1,1,0,0,0],
  ];

  let player = {r:0,c:0};
  let goal = {r:9,c:9};
  let moves=0;

  function render(){
    gridEl.innerHTML="";
    for(let r=0;r<10;r++){
      for(let c=0;c<10;c++){
        const d=document.createElement("div");
        d.className="mazeCell";
        if(map[r][c]===1) d.classList.add("wall");
        if(r===goal.r && c===goal.c) d.classList.add("goal");
        if(r===player.r && c===player.c) d.classList.add("player");
        gridEl.appendChild(d);
      }
    }
    movesEl.textContent = "Moves: " + moves;
  }

  function canMove(r,c){
    if(r<0||r>=10||c<0||c>=10) return false;
    return map[r][c]===0;
  }

  function move(dr,dc){
    const nr=player.r+dr, nc=player.c+dc;
    if(canMove(nr,nc)){
      player.r=nr; player.c=nc;
      moves++;
      if(player.r===goal.r && player.c===goal.c){
        stateEl.textContent="âœ… ÙˆØµÙ„Øª!";
      } else {
        stateEl.textContent="Ø´ØºØ§Ù„â€¦";
      }
      render();
    }
  }

  function reset(){
    player={r:0,c:0};
    goal={r:9,c:9};
    moves=0;
    stateEl.textContent="Ø¬Ø§Ù‡Ø²";
    render();
  }

  btns.up.addEventListener("click", ()=>move(-1,0));
  btns.down.addEventListener("click", ()=>move(1,0));
  btns.left.addEventListener("click", ()=>move(0,-1));
  btns.right.addEventListener("click", ()=>move(0,1));
  btns.reset.addEventListener("click", reset);

  window.addEventListener("keydown",(e)=>{
    if(routeFromHash()!=="g-maze") return;
    if(e.key==="ArrowUp") move(-1,0);
    if(e.key==="ArrowDown") move(1,0);
    if(e.key==="ArrowLeft") move(0,-1);
    if(e.key==="ArrowRight") move(0,1);
  });

  reset();
}

/* =========================
   Typing Rush
========================= */
function initTypingRush(){
  const scoreEl = $("#typeScore");
  const timeEl = $("#typeTime");
  const wordEl = $("#typeWord");
  const input = $("#typeInput");
  const startBtn = $("#typeStart");
  const resetBtn = $("#typeReset");

  const words = shuffle([
    "Ø±Ù…Ø¶Ø§Ù†","Ù…Ø°Ø§ÙƒØ±Ø©","Ù…Ø¯Ø±Ø³Ø©","Ù†Ø¬Ø§Ø­","ØªÙÙˆÙ‚","Ø³Ø¤Ø§Ù„","Ø¥Ø¬Ø§Ø¨Ø©","ØªØ±ÙƒÙŠØ²","Ù…Ø¹Ù„ÙˆÙ…Ø©","Ø§Ø®ØªØ¨Ø§Ø±",
    "physics","science","history","capital","planet","matrix","function","grammar","reading","email"
  ]);

  let idx=0, score=0, time=30, running=false, timer=null;

  function nextWord(){
    wordEl.textContent = words[idx % words.length];
    idx++;
  }

  function start(){
    if(running) return;
    running=true;
    score=0; time=30; idx=0;
    scoreEl.textContent="Score: 0";
    timeEl.textContent="Time: 30";
    input.value="";
    input.focus();
    nextWord();

    timer = setInterval(()=>{
      time--;
      timeEl.textContent="Time: " + time;
      if(time<=0){
        stop();
      }
    }, 1000);
  }

  function stop(){
    running=false;
    clearInterval(timer); timer=null;
    wordEl.textContent = "Ø§Ù†ØªÙ‡Ù‰!";
    input.blur();
  }

  function reset(){
    stop();
    score=0; time=30; idx=0;
    scoreEl.textContent="Score: 0";
    timeEl.textContent="Time: 30";
    wordEl.textContent="â€”";
    input.value="";
  }

  input.addEventListener("keydown",(e)=>{
    if(e.key==="Enter"){
      const target = wordEl.textContent;
      const typed = input.value.trim();
      if(!running) return;

      if(typed.toLowerCase() === target.toLowerCase()){
        score++;
        scoreEl.textContent="Score: " + score;
      }
      input.value="";
      nextWord();
    }
  });

  startBtn.addEventListener("click", start);
  resetBtn.addEventListener("click", reset);
  reset();
}

/* =========================
   Dino (canvas)
========================= */
function initDino(){
  const cvs = $("#dinoCanvas");
  const ctx = cvs.getContext("2d");
  const scoreEl = $("#dinoScore");
  const stateEl = $("#dinoState");
  const restartBtn = $("#dinoRestart");

  let running=false, dead=false;
  let t=0, score=0;
  const g=0.75;
  const ground=170;
  const dino={x:70,y:ground,vy:0,w:24,h:30,jump:-12};
  let obstacles=[];
  let lastSpawn=0;

  function reset(){
    running=false; dead=false; t=0; score=0; obstacles=[]; lastSpawn=0;
    dino.y=ground; dino.vy=0;
    stateEl.textContent="Ø§Ø¶ØºØ·/Ø§Ù„Ù…Ø³ Ù„Ù„Ù‚ÙØ²";
    scoreEl.textContent="Score: 0";
    draw();
  }

  function spawn(){
    const h=18+(Math.random()*26|0);
    const w=12+(Math.random()*18|0);
    obstacles.push({x:cvs.width,y:ground+30-h,w,h});
  }

  function collide(a,b){
    return a.x<b.x+b.w && a.x+a.w>b.x && a.y<b.y+b.h && a.y+a.h>b.y;
  }

  function jump(){
    if(dead) return;
    if(!running){ running=true; stateEl.textContent="Ø´ØºØ§Ù„â€¦"; loop(); }
    if(dino.y>=ground-0.5){ dino.vy=dino.jump; }
  }

  function step(){
    t++;
    dino.vy += g;
    dino.y += dino.vy;
    if(dino.y>ground){ dino.y=ground; dino.vy=0; }

    if(t-lastSpawn>70+(Math.random()*45|0)){ spawn(); lastSpawn=t; }

    const speed=4.4+Math.min(4, score/220);
    obstacles.forEach(o=>o.x-=speed);
    obstacles=obstacles.filter(o=>o.x+o.w>-10);

    score++;
    scoreEl.textContent="Score: " + Math.floor(score/4);

    const boxD={x:dino.x,y:dino.y,w:dino.w,h:dino.h};
    for(const o of obstacles){
      if(collide(boxD,o)){
        dead=true; running=false;
        stateEl.textContent="ğŸ’¥ Ø®Ø³Ø±Øª! Ø§Ø¶ØºØ· Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„";
        break;
      }
    }
  }

  function draw(){
    ctx.clearRect(0,0,cvs.width,cvs.height);

    ctx.globalAlpha=.8;
    ctx.fillStyle="rgba(255,255,255,.18)";
    ctx.fillRect(0,ground+30,cvs.width,2);
    ctx.globalAlpha=1;

    ctx.fillStyle="rgba(255,255,255,.86)";
    ctx.fillRect(dino.x,dino.y,dino.w,dino.h);

    ctx.fillStyle="rgba(255,214,102,.85)";
    obstacles.forEach(o=>ctx.fillRect(o.x,o.y,o.w,o.h));
  }

  function loop(){
    if(!running) return;
    step(); draw();
    requestAnimationFrame(loop);
  }

  cvs.addEventListener("pointerdown", jump);
  window.addEventListener("keydown",(e)=>{ if(routeFromHash()==="g-dino" && e.code==="Space") jump(); });
  restartBtn.addEventListener("click", reset);
  reset();
}

/* =========================
   Frog (3 lanes)
========================= */
function initFrog(){
  const cvs=$("#frogCanvas");
  const ctx=cvs.getContext("2d");
  const scoreEl=$("#frogScore");
  const stateEl=$("#frogState");
  const upBtn=$("#frogUp");
  const downBtn=$("#frogDown");
  const restartBtn=$("#frogRestart");

  let running=false, dead=false, score=0, frame=0;
  const lanesY=[45,110,175];
  const frog={lane:1,x:85,w:28,h:28};
  let doors=[];

  function reset(){
    running=false; dead=false; score=0; frame=0; doors=[];
    frog.lane=1;
    stateEl.textContent="Ø§Ø¶ØºØ· ÙÙˆÙ‚/ØªØ­Øª Ù„Ù„Ø¨Ø¯Ø¡";
    scoreEl.textContent="Score: 0";
    draw();
  }

  function start(){
    if(dead) return;
    if(!running){ running=true; stateEl.textContent="Ø´ØºØ§Ù„â€¦"; loop(); }
  }

  function spawnDoor(){
    const lane=(Math.random()*3)|0;
    const w=22+(Math.random()*22|0);
    const h=36;
    doors.push({x:cvs.width, lane, w, h});
  }

  function step(){
    frame++;
    if(frame%55===0) spawnDoor();
    const speed=4.2+Math.min(4, score/220);
    doors.forEach(d=>d.x-=speed);
    doors=doors.filter(d=>d.x+d.w>-10);

    score++;
    scoreEl.textContent="Score: " + Math.floor(score/5);

    const fy=lanesY[frog.lane];
    const fbox={x:frog.x,y:fy,w:frog.w,h:frog.h};

    for(const d of doors){
      const dy=lanesY[d.lane]-3;
      const db={x:d.x,y:dy,w:d.w,h:d.h};
      if(fbox.x<db.x+db.w && fbox.x+fbox.w>db.x && fbox.y<db.y+db.h && fbox.y+fbox.h>db.y){
        dead=true; running=false;
        stateEl.textContent="ğŸšªğŸ’¥ Ø®Ø³Ø±Øª! Ø§Ø¶ØºØ· Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„";
        break;
      }
    }
  }

  function draw(){
    ctx.clearRect(0,0,cvs.width,cvs.height);

    for(let i=0;i<3;i++){
      ctx.fillStyle="rgba(255,255,255,.07)";
      ctx.fillRect(0,lanesY[i]-12,cvs.width,52);
      ctx.fillStyle="rgba(255,255,255,.14)";
      ctx.fillRect(0,lanesY[i]+34,cvs.width,2);
    }

    const y=lanesY[frog.lane];
    ctx.fillStyle="rgba(44,255,159,.85)";
    ctx.fillRect(frog.x,y,frog.w,frog.h);
    ctx.fillStyle="rgba(0,0,0,.25)";
    ctx.fillRect(frog.x+6,y+7,4,4);
    ctx.fillRect(frog.x+18,y+7,4,4);

    ctx.fillStyle="rgba(255,214,102,.85)";
    doors.forEach(d=>{
      const y2=lanesY[d.lane]-3;
      ctx.fillRect(d.x,y2,d.w,d.h);
      ctx.fillStyle="rgba(0,0,0,.22)";
      ctx.fillRect(d.x+d.w-7,y2+d.h/2,3,3);
      ctx.fillStyle="rgba(255,214,102,.85)";
    });
  }

  function loop(){
    if(!running) return;
    step(); draw();
    requestAnimationFrame(loop);
  }

  function move(delta){
    start();
    if(dead) return;
    frog.lane=Math.max(0,Math.min(2,frog.lane+delta));
    draw();
  }

  upBtn.addEventListener("click",()=>move(-1));
  downBtn.addEventListener("click",()=>move(1));
  window.addEventListener("keydown",(e)=>{
    if(routeFromHash()!=="g-frog") return;
    if(e.key==="ArrowUp") move(-1);
    if(e.key==="ArrowDown") move(1);
  });
  restartBtn.addEventListener("click", reset);
  reset();
}
</script>
</body>
</html>


