<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#0b0f1e" />
  <title>V2.1 Neon Hub</title>

  <style>
    :root{
      --bgA:#070a14;
      --bgB:#081a2e;
      --bgC:#2a0b2a;

      --txt:#eef4ff;
      --mut:rgba(238,244,255,.72);

      --glass1: rgba(255,255,255,.12);
      --glass2: rgba(255,255,255,.06);
      --stroke: rgba(255,255,255,.14);

      --c1:#67f0ff;  /* cyan */
      --c2:#b06cff;  /* violet */
      --c3:#ff5fd1;  /* pink */
      --c4:#ffd36f;  /* gold */

      --ok:#7dffb3;
      --bad:#ff6b6b;

      --shadow: 0 18px 70px rgba(0,0,0,.55);
      --shadow2: 0 10px 40px rgba(0,0,0,.45);

      --r: 26px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, "Segoe UI", Tahoma, Arial, sans-serif;
      color:var(--txt);
      overflow:hidden;

      background:
        radial-gradient(900px 650px at 15% 85%, rgba(103,240,255,.12), transparent 60%),
        radial-gradient(900px 650px at 85% 15%, rgba(176,108,255,.12), transparent 60%),
        radial-gradient(900px 650px at 55% 60%, rgba(255,95,209,.10), transparent 60%),
        linear-gradient(140deg, var(--bgA), var(--bgB), var(--bgC));
    }

    /* Fix black bars (mobile dynamic viewport) */
    .app{
      position:fixed;
      inset:0;
      height: 100svh;
      height: 100dvh;
      display:grid;
      place-items:center;
      padding:
        calc(16px + env(safe-area-inset-top))
        14px
        calc(74px + env(safe-area-inset-bottom));
      overscroll-behavior: none;
    }

    /* Floating emojis (NEW set) */
    .sky{ position:fixed; inset:0; pointer-events:none; overflow:hidden; }
    .e{
      position:absolute;
      font-size: clamp(16px, 3.8vw, 34px);
      opacity:.95;
      filter: drop-shadow(0 12px 20px rgba(0,0,0,.35));
      animation: rise linear infinite;
      will-change: transform, opacity;
    }
    @keyframes rise{
      from{ transform: translate3d(var(--dx), 110svh, 0) rotate(var(--r)); opacity:0; }
      15%{ opacity:.95; }
      to{ transform: translate3d(var(--dx), -25svh, 0) rotate(calc(var(--r) + 140deg)); opacity:0; }
    }

    .vignette{
      position:fixed; inset:0; pointer-events:none;
      background: radial-gradient(circle at 50% 38%, transparent 34%, rgba(0,0,0,.62) 88%);
      mix-blend-mode: multiply;
    }

    /* Panels */
    .panel{
      width: min(980px, 96vw);
      display:none;
      animation: pop .34s ease both;
    }
    .panel.active{ display:block; }
    @keyframes pop{
      from{ opacity:0; transform: translate3d(0, 14px, 0) scale(.99); }
      to{ opacity:1; transform: translate3d(0,0,0) scale(1); }
    }

    .card{
      border-radius: var(--r);
      border:1px solid var(--stroke);
      background: linear-gradient(180deg, var(--glass1), var(--glass2));
      box-shadow: var(--shadow);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      overflow:hidden;
      position:relative;
    }

    .header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding: 14px 14px 10px;
    }

    .brand{
      display:flex;
      flex-direction:column;
      gap:4px;
      min-width: 0;
    }
    .brand h1{
      margin:0;
      font-size: clamp(18px, 4.8vw, 32px);
      letter-spacing:.2px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .brand p{
      margin:0;
      color: var(--mut);
      font-size: 13px;
      line-height: 1.4;
    }

    .chip{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 8px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
      color: rgba(238,244,255,.82);
      font-weight: 900;
      font-size: 12px;
      letter-spacing:.2px;
      flex: 0 0 auto;
    }

    .content{
      padding: 10px 14px 14px;
    }

    /* Scrollable content (when long) */
    .scroll{
      max-height: calc(100svh - 200px);
      max-height: calc(100dvh - 200px);
      overflow:auto;
      padding-right: 6px;
      scrollbar-width: thin;
    }

    /* Buttons */
    .btn{
      border:none;
      cursor:pointer;
      border-radius: 16px;
      padding: 12px 14px;
      font-weight: 1000;
      color:#0b0710;
      background: linear-gradient(135deg, var(--c4), rgba(255,211,111,.60));
      box-shadow: var(--shadow2);
      transition: transform .12s ease, filter .12s ease;
      -webkit-tap-highlight-color: transparent;
    }
    .btn:active{ transform: scale(.99); }
    .btn.ghost{
      color: var(--txt);
      background: rgba(0,0,0,.22);
      border: 1px solid rgba(255,255,255,.16);
      box-shadow: none;
    }
    .btn.pink{
      color: white;
      background: linear-gradient(135deg, var(--c3), rgba(255,95,209,.55));
      filter: drop-shadow(0 0 18px rgba(255,95,209,.30));
    }
    .btn.cyan{
      color:#061017;
      background: linear-gradient(135deg, var(--c1), rgba(103,240,255,.55));
      filter: drop-shadow(0 0 18px rgba(103,240,255,.25));
    }

    /* Home grid */
    .grid{
      display:grid;
      gap:14px;
      grid-template-columns: 1fr;
      margin-top: 10px;
    }
    @media (min-width: 760px){
      .grid{ grid-template-columns: 1fr 1fr; }
    }

    .tile{
      border-radius: 24px;
      border:1px solid rgba(255,255,255,.14);
      background: linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.05));
      box-shadow: var(--shadow2);
      padding: 16px 14px;
      cursor:pointer;
      position:relative;
      overflow:hidden;
      transition: transform .12s ease;
      -webkit-tap-highlight-color: transparent;
    }
    .tile:active{ transform: scale(.99); }
    .tile::before{
      content:"";
      position:absolute; inset:-2px;
      background:
        radial-gradient(280px 140px at 25% 25%, rgba(103,240,255,.18), transparent 60%),
        radial-gradient(280px 140px at 85% 70%, rgba(255,95,209,.16), transparent 60%),
        radial-gradient(280px 140px at 60% 40%, rgba(176,108,255,.14), transparent 62%);
      opacity:.9;
      pointer-events:none;
    }
    .tile .row{
      position:relative;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
    }
    .tile h2{
      margin:0;
      font-size: 18px;
      font-weight: 1000;
    }
    .tile p{
      position:relative;
      margin:10px 0 0;
      color: var(--mut);
      font-size: 14px;
      line-height:1.65;
    }
    .icon{
      font-size: 24px;
      filter: drop-shadow(0 10px 16px rgba(0,0,0,.35));
    }

    /* Pager */
    .pager{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin: 10px 0 12px;
    }
    .page-title{
      font-weight: 1000;
      font-size: 14px;
      color: rgba(238,244,255,.90);
      text-align:center;
      flex: 1 1 auto;
      min-width: 0;
      white-space: nowrap;
      overflow:hidden;
      text-overflow: ellipsis;
    }
    .nums{
      display:flex;
      gap:8px;
      overflow:auto;
      padding-bottom: 6px;
      margin-bottom: 12px;
      scrollbar-width: none;
    }
    .nums::-webkit-scrollbar{ display:none; }

    .num{
      flex: 0 0 auto;
      width: 42px;
      height: 42px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.22);
      color: var(--txt);
      font-weight: 1000;
      cursor:pointer;
      display:grid;
      place-items:center;
      -webkit-tap-highlight-color: transparent;
      transition: transform .12s ease, outline-color .12s ease;
    }
    .num:active{ transform: scale(.99); }
    .num.active{
      outline: 2px solid rgba(103,240,255,.35);
      background: linear-gradient(180deg, rgba(103,240,255,.18), rgba(0,0,0,.22));
    }

    /* Typewriter */
    .big{
      border-radius: 22px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
      padding: 16px 14px;
      box-shadow: 0 12px 44px rgba(0,0,0,.30);
    }
    .type{
      margin:0;
      font-size: clamp(16px, 4.2vw, 20px);
      line-height: 1.85;
      font-weight: 900;
    }
    .cursor{
      display:inline-block;
      width: 10px;
      margin-right: 6px;
      border-right: 2px solid rgba(238,244,255,.75);
      animation: blink .9s step-end infinite;
    }
    @keyframes blink{ 50%{ opacity:0; } }

    /* Quiz */
    .q{
      margin:0 0 10px;
      font-size: 16px;
      font-weight: 1000;
      line-height: 1.65;
    }
    .opts{
      display:grid;
      gap:10px;
    }
    .opt{
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.20);
      color: var(--txt);
      padding: 12px 12px;
      font-weight: 900;
      text-align:right;
      cursor:pointer;
      -webkit-tap-highlight-color: transparent;
      transition: transform .12s ease, background .12s ease;
    }
    .opt:active{ transform: scale(.99); }
    .opt.correct{ outline: 2px solid rgba(125,255,179,.35); background: rgba(125,255,179,.10); }
    .opt.wrong{ outline: 2px solid rgba(255,107,107,.35); background: rgba(255,107,107,.10); }

    .msgline{ min-height: 18px; font-size: 13px; color: rgba(238,244,255,.78); margin-top:10px; }
    .msgline.ok{ color: rgba(125,255,179,.92); }
    .msgline.bad{ color: rgba(255,107,107,.92); }

    body.flash-red{ animation: redFlash .65s ease-in-out; }
    @keyframes redFlash{
      55%{
        background: radial-gradient(1200px 800px at 50% 40%, rgba(255,43,43,.24), transparent 55%),
                   linear-gradient(160deg, #210000, #0e0000) !important;
      }
    }

    /* Messages modal */
    .modal{
      position:fixed;
      inset:0;
      display:none;
      place-items:end center;
      padding: 14px;
      background: rgba(0,0,0,.55);
      backdrop-filter: blur(6px);
      -webkit-backdrop-filter: blur(6px);
      z-index: 50;
    }
    .modal.show{ display:grid; }

    .sheet{
      width:min(720px, 96vw);
      border-radius: 28px;
      border:1px solid rgba(255,255,255,.14);
      background:
        radial-gradient(700px 320px at 15% 0%, rgba(103,240,255,.14), transparent 60%),
        radial-gradient(700px 320px at 85% 25%, rgba(255,95,209,.14), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.05));
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .sheet .header{
      padding: 14px 14px 10px;
    }
    .field{
      width:100%;
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.24);
      color: var(--txt);
      padding: 12px 12px;
      outline:none;
      font-size: 16px;
    }
    textarea.field{ min-height: 140px; resize: vertical; }

    /* Footer */
    .footer{
      position:fixed;
      left:0; right:0;
      bottom: 10px;
      text-align:center;
      font-size: 13px;
      color: rgba(238,244,255,.65);
      text-shadow: 0 10px 25px rgba(0,0,0,.55);
      pointer-events:none;
      padding: 0 10px;
    }
  </style>
</head>

<body>
  <div class="sky" id="sky" aria-hidden="true"></div>
  <div class="vignette" aria-hidden="true"></div>

  <div class="app">

    <!-- HOME -->
    <section class="panel active" id="home">
      <div class="card">
        <div class="header">
          <div class="brand">
            <h1>Neon Hub</h1>
            <p>v2.1 â€” Ø§Ø®ØªØ§Ø± Ø®Ø§Ù†Ø©â€¦ ÙˆÙƒÙ„ Ø®Ø§Ù†Ø© Ø¬ÙˆØ§Ù‡Ø§ ØµÙØ­Ø§Øª Ø¨Ø£Ø±Ù‚Ø§Ù… + Ø±Ø¬ÙˆØ¹/Ø§Ù„ØªØ§Ù„ÙŠ</p>
          </div>
          <span class="chip">Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
        </div>

        <div class="content">
          <div class="grid">
            <div class="tile" data-open="jokes">
              <div class="row">
                <h2>Ù†ÙƒØª Ø¨ÙŠØ¶</h2>
                <div class="icon">ğŸ¥š</div>
              </div>
              <p>ØµÙØ­Ø§Øª Ù†ÙƒØªâ€¦ ÙƒÙ„ ØµÙØ­Ø© Ù†ÙƒØªØ©.</p>
            </div>

            <div class="tile" data-open="gk">
              <div class="row">
                <h2>Ø§Ø³Ø¦Ù„Ø© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ø§Ù…Ù‡</h2>
                <div class="icon">ğŸ§ </div>
              </div>
              <p>5 Ø£Ø³Ø¦Ù„Ø© + Ø§Ø®ØªÙŠØ§Ø±Ø§Øª (ØªÙØ§Ø¹Ù„ÙŠ).</p>
            </div>

            <div class="tile" data-open="countries">
              <div class="row">
                <h2>Ø§Ø³Ø¦Ù„Ù‡ Ø¹Ù† Ø§Ù„Ø¯ÙˆÙ„</h2>
                <div class="icon">ğŸŒ</div>
              </div>
              <p>5 Ø£Ø³Ø¦Ù„Ø© Ø¹Ù† Ø¹ÙˆØ§ØµÙ…/Ø¯ÙˆÙ„/Ù‚Ø§Ø±Ø§Øª.</p>
            </div>

            <div class="tile" data-open="soon">
              <div class="row">
                <h2>Ù‚Ø±ÙŠØ¨Ø§</h2>
                <div class="icon">âœ¨</div>
              </div>
              <p>ØµÙØ­Ø§Øª Ù„Ù„ØªÙ†Ù‚Ù„â€¦ ØªØ¬Ù‡ÙŠØ²Ø§Øª Ø¬Ø§ÙŠØ©.</p>
            </div>
          </div>

          <div style="display:flex; gap:10px; margin-top:14px;">
            <button class="btn cyan" id="openMessages" type="button">âœ‰ï¸ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ (Ø¬Ù„Ùˆ)</button>
            <button class="btn ghost" id="openExtras" type="button">ğŸ® Ø¥Ø¶Ø§ÙØ§Øª Ù…Ù…ØªØ¹Ø©</button>
          </div>
        </div>
      </div>
    </section>

    <!-- SECTION TEMPLATE: JOKES -->
    <section class="panel" id="jokes">
      <div class="card">
        <div class="header">
          <button class="btn ghost" data-home>âŸµ</button>
          <div class="brand">
            <h1>Ù†ÙƒØª Ø¨ÙŠØ¶</h1>
            <p>ØªÙ†Ù‚Ù„ÙŠ Ø¨Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø£Ùˆ Ø¨Ø§Ù„Ø£Ø³Ù‡Ù…â€¦</p>
          </div>
          <span class="chip">Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
        </div>

        <div class="content">
          <div class="pager">
            <button class="btn ghost" id="jPrev">â—€</button>
            <div class="page-title" id="jTitle">ØµÙØ­Ø©</div>
            <button class="btn ghost" id="jNext">â–¶</button>
          </div>
          <div class="nums" id="jNums"></div>

          <div class="scroll">
            <div class="big">
              <p class="type" id="jText"></p>
            </div>
            <div class="msgline" id="jHint"></div>
          </div>

          <div style="display:flex; gap:10px; margin-top:12px;">
            <button class="btn pink" type="button" id="jReplay">â†» Ø¥Ø¹Ø§Ø¯Ø© ÙƒØªØ§Ø¨Ø©</button>
            <button class="btn cyan" type="button" id="jMsg">âœ‰ï¸ Ø±Ø³Ø§Ù„Ø©</button>
          </div>
        </div>
      </div>
    </section>

    <!-- SECTION: GENERAL KNOWLEDGE -->
    <section class="panel" id="gk">
      <div class="card">
        <div class="header">
          <button class="btn ghost" data-home>âŸµ</button>
          <div class="brand">
            <h1>Ø§Ø³Ø¦Ù„Ø© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ø§Ù…Ù‡</h1>
            <p>Ø§Ø®ØªØ§Ø± Ø¥Ø¬Ø§Ø¨Ø©â€¦ Ù‡ØªØ¸Ù‡Ø± ØµØ­/ØºÙ„Ø·.</p>
          </div>
          <span class="chip">Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
        </div>

        <div class="content">
          <div class="pager">
            <button class="btn ghost" id="gPrev">â—€</button>
            <div class="page-title" id="gTitle">Ø³Ø¤Ø§Ù„</div>
            <button class="btn ghost" id="gNext">â–¶</button>
          </div>
          <div class="nums" id="gNums"></div>

          <div class="scroll">
            <div class="big">
              <p class="q" id="gQ"></p>
              <div class="opts" id="gOpts"></div>
              <div class="msgline" id="gMsg"></div>
            </div>
          </div>

          <div style="display:flex; gap:10px; margin-top:12px;">
            <button class="btn cyan" type="button" id="gReset">ğŸ§¼ ØªØµÙÙŠØ± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª</button>
            <button class="btn pink" type="button" id="gMsgBtn">âœ‰ï¸ Ø±Ø³Ø§Ù„Ø©</button>
          </div>
        </div>
      </div>
    </section>

    <!-- SECTION: COUNTRIES -->
    <section class="panel" id="countries">
      <div class="card">
        <div class="header">
          <button class="btn ghost" data-home>âŸµ</button>
          <div class="brand">
            <h1>Ø§Ø³Ø¦Ù„Ù‡ Ø¹Ù† Ø§Ù„Ø¯ÙˆÙ„</h1>
            <p>5 Ø£Ø³Ø¦Ù„Ø©â€¦ Ø£Ø¸Ù‡Ø±Ù„Ùƒ Ø§Ù„ØµØ­.</p>
          </div>
          <span class="chip">Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
        </div>

        <div class="content">
          <div class="pager">
            <button class="btn ghost" id="cPrev">â—€</button>
            <div class="page-title" id="cTitle">Ø³Ø¤Ø§Ù„</div>
            <button class="btn ghost" id="cNext">â–¶</button>
          </div>
          <div class="nums" id="cNums"></div>

          <div class="scroll">
            <div class="big">
              <p class="q" id="cQ"></p>
              <div class="opts" id="cOpts"></div>
              <div class="msgline" id="cMsg"></div>
            </div>
          </div>

          <div style="display:flex; gap:10px; margin-top:12px;">
            <button class="btn cyan" type="button" id="cReset">ğŸ§¼ ØªØµÙÙŠØ± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª</button>
            <button class="btn pink" type="button" id="cMsgBtn">âœ‰ï¸ Ø±Ø³Ø§Ù„Ø©</button>
          </div>
        </div>
      </div>
    </section>

    <!-- SECTION: SOON (WITH PAGES + NAV) -->
    <section class="panel" id="soon">
      <div class="card">
        <div class="header">
          <button class="btn ghost" data-home>âŸµ</button>
          <div class="brand">
            <h1>Ù‚Ø±ÙŠØ¨Ø§</h1>
            <p>ØµÙØ­Ø§Øª Ø¨Ø£Ø±Ù‚Ø§Ù… + Ø±Ø¬ÙˆØ¹/Ø§Ù„ØªØ§Ù„ÙŠ Ø²ÙŠ Ù…Ø§ Ø·Ù„Ø¨Øª.</p>
          </div>
          <span class="chip">Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
        </div>

        <div class="content">
          <div class="pager">
            <button class="btn ghost" id="sPrev">â—€</button>
            <div class="page-title" id="sTitle">ØµÙØ­Ø©</div>
            <button class="btn ghost" id="sNext">â–¶</button>
          </div>
          <div class="nums" id="sNums"></div>

          <div class="scroll">
            <div class="big">
              <p class="type" id="sText"></p>
            </div>
            <div class="msgline" id="sMsg"></div>
          </div>

          <div style="display:flex; gap:10px; margin-top:12px;">
            <button class="btn cyan" type="button" id="sMsgBtn">âœ‰ï¸ Ø±Ø³Ø§Ù„Ø©</button>
            <button class="btn ghost" type="button" id="sBackHome">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
          </div>
        </div>
      </div>
    </section>

    <!-- EXTRAS (added games + puzzles to make it more fun) -->
    <section class="panel" id="extras">
      <div class="card">
        <div class="header">
          <button class="btn ghost" data-home>âŸµ</button>
          <div class="brand">
            <h1>ğŸ® Ø¥Ø¶Ø§ÙØ§Øª Ù…Ù…ØªØ¹Ø©</h1>
            <p>Ø£Ù„Ø¹Ø§Ø¨ + Ø£Ù„ØºØ§Ø² ØµØºÙŠØ±Ø© Ø²ÙŠØ§Ø¯Ø© (Ø¹Ù„Ø´Ø§Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙŠØ¨Ù‚Ù‰ Ù…Ù…ØªØ¹ Ø£ÙƒØªØ±).</p>
          </div>
          <span class="chip">Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
        </div>

        <div class="content">
          <div class="scroll">
            <div class="big" style="margin-bottom:12px;">
              <p class="q">Ø§Ø®ØªØ§Ø± ÙˆØ§Ø­Ø¯Ø©:</p>
              <div style="display:grid; gap:10px;">
                <button class="btn cyan" type="button" id="goXO">ğŸ¯ Ù„Ø¹Ø¨Ø© XO (Ø³Ø±ÙŠØ¹Ø©)</button>
                <button class="btn pink" type="button" id="goMemory">ğŸƒ Ù„Ø¹Ø¨Ø© Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø©</button>
                <button class="btn ghost" type="button" id="miniRiddle">ğŸ§© Ù„ØºØ² Ø³Ø±ÙŠØ¹ (Ù†Ù‚Ø±Ø© ÙˆØ§Ø­Ø¯Ø©)</button>
              </div>
              <div class="msgline" id="exMsg"></div>
            </div>

            <div class="big" id="miniBox" style="display:none;">
              <p class="q">Ù„ØºØ²: Ø£ÙŠÙ‡Ù… â€œÙ…Ø´ Ù…Ù†Ø§Ø³Ø¨â€ ÙˆØ³Ø·Ù‡Ù…ØŸ</p>
              <div style="display:flex; gap:10px; flex-wrap:wrap;">
                <button class="btn ghost" type="button" data-mini="A">ğŸ‹</button>
                <button class="btn ghost" type="button" data-mini="B">ğŸ</button>
                <button class="btn ghost" type="button" data-mini="C">ğŸ¥¦</button>
                <button class="btn ghost" type="button" data-mini="D">ğŸ‰</button>
              </div>
              <div class="msgline" id="miniMsg"></div>
            </div>
          </div>

          <div style="display:flex; gap:10px; margin-top:12px;">
            <button class="btn pink" type="button" id="exMsgBtn">âœ‰ï¸ Ø±Ø³Ø§Ù„Ø©</button>
          </div>
        </div>
      </div>
    </section>

  </div>

  <!-- Messages Modal -->
  <div class="modal" id="modal">
    <div class="sheet">
      <div class="header">
        <button class="btn ghost" id="closeModal">âœ–</button>
        <div class="brand">
          <h1>âœ‰ï¸ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„</h1>
          <p>Ø´ÙƒÙ„ Ø¬Ù„Ùˆ + Ø¥Ø±Ø³Ø§Ù„ Formspree</p>
        </div>
        <span class="chip">Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
      </div>

      <div class="content">
        <form id="msgForm" class="row" style="display:grid; gap:10px;">
          <textarea class="field" id="msgText" name="message" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§..." required></textarea>
          <input type="hidden" name="page" id="msgPage">
          <input type="hidden" name="_subject" value="Message from v2.1 Neon Hub">
          <input type="text" name="_gotcha" style="display:none">
          <button class="btn pink" id="msgSend" type="submit">Ø¥Ø±Ø³Ø§Ù„</button>
          <div class="msgline" id="msgHint"></div>
        </form>
      </div>
    </div>
  </div>

  <footer class="footer">ØµÙÙ†Ø¹ Ø¨ÙˆØ§Ø³Ø·Ø© : Ø¨Ù†ÙŠ Ø§Ø¯Ù… Ø¨Ø±Ø§Ø³ ÙØ±Ø®Ù‡ v2.1 .</footer>

  <script>
    /*************************
     * CONFIG
     *************************/
    // Ù„Ùˆ Ø¹Ù†Ø¯Ùƒ ÙÙˆØ±Ù… Ù…Ø®ØªÙ„Ù: ØºÙŠÙ‘Ø± Ø¯Ù‡
    const FORMSPREE_ENDPOINT = "https://formspree.io/f/mykdkqza";

    /*************************
     * helpers
     *************************/
    function rand(min,max){ return Math.random()*(max-min)+min; }
    function pick(a){ return a[Math.floor(Math.random()*a.length)]; }
    function shuffle(arr){
      for(let i=arr.length-1;i>0;i--){
        const j = Math.floor(Math.random()*(i+1));
        [arr[i],arr[j]]=[arr[j],arr[i]];
      }
      return arr;
    }
    function flashRed(){
      document.body.classList.add("flash-red");
      setTimeout(()=>document.body.classList.remove("flash-red"), 700);
    }
    function normalizeArabic(s){
      return (s||"").toLowerCase().trim()
        .replace(/\s+/g,"")
        .replace(/[Ø¥Ø£Ø¢Ø§]/g,"Ø§")
        .replace(/Ù‰/g,"ÙŠ")
        .replace(/Ø¤/g,"Ùˆ")
        .replace(/Ø¦/g,"ÙŠ")
        .replace(/Ø©/g,"Ù‡")
        .replace(/[Ù€Ù‹ÙŒÙÙÙÙÙ‘Ù’]/g,"");
    }

    /*************************
     * floating emojis (NEW)
     *************************/
    const sky = document.getElementById("sky");
    const FLOAT_EMOJIS = ["ğŸª","ğŸ’«","ğŸ§Š","ğŸ­","ğŸ²","ğŸ§ ","âš¡","ğŸŒˆ","ğŸ©","ğŸ§","ğŸ«§","ğŸ”®","ğŸ§ª","ğŸ¯"];
    const count = Math.min(30, Math.max(18, Math.floor(window.innerWidth/42)));
    for(let i=0;i<count;i++){
      const el = document.createElement("span");
      el.className = "e";
      el.textContent = pick(FLOAT_EMOJIS);
      el.style.left = rand(2,98) + "vw";
      el.style.setProperty("--r", rand(-35,35) + "deg");
      el.style.setProperty("--dx", rand(-18,18).toFixed(1) + "px");
      el.style.animationDuration = rand(9.5, 16.5).toFixed(2) + "s";
      el.style.animationDelay = rand(-12, 0).toFixed(2) + "s";
      sky.appendChild(el);
    }

    /*************************
     * router
     *************************/
    const panels = [...document.querySelectorAll(".panel")];
    function go(id){
      panels.forEach(p=>p.classList.toggle("active", p.id === id));
      window.scrollTo(0,0);
    }

    // home tiles
    document.querySelectorAll("[data-open]").forEach(t=>{
      t.addEventListener("click", ()=> {
        const id = t.dataset.open;
        if(id==="jokes"){ renderJokes(jIndex); }
        if(id==="gk"){ renderGK(gIndex); }
        if(id==="countries"){ renderCountries(cIndex); }
        if(id==="soon"){ renderSoon(sIndex); }
        go(id);
      });
    });
    document.querySelectorAll("[data-home]").forEach(b=> b.addEventListener("click", ()=> go("home")));

    /*************************
     * Typewriter
     *************************/
    let twTimer = null;
    function typewrite(el, text, speed=18){
      if(twTimer) clearInterval(twTimer);
      el.innerHTML = "";
      const cur = document.createElement("span");
      cur.className = "cursor";
      el.appendChild(cur);

      let i=0;
      twTimer = setInterval(()=>{
        if(i >= text.length){
          clearInterval(twTimer);
          twTimer = null;
          cur.remove();
          el.textContent = text;
          return;
        }
        // insert before cursor
        cur.insertAdjacentText("beforebegin", text[i]);
        i++;
      }, speed);
    }

    /*************************
     * JOKES (pages)
     *************************/
    const jokes = [
      "Ù…Ø±Ù‡ Ù†Ù…Ù„Ù‡ Ø·Ø§Ø±Øª ÙŠÙˆÙ… ÙØ±Ø­Ù‡Ø§ Ø¹Ø´Ø§Ù† Ù…Ø§Ù†Øª Ø¨ØªØªØ³Ø´ÙˆØ± ..",
      "Ù…Ø±Ù‡ Ø­Ù†ÙÙŠØ© Ø¨ØªÙ†Ø²Ù„ Ù…Ø§ÙŠØ© ÙØ§ Ø§Ù„ÙÙ„ØªØ± Ù‚Ø§Ù„Ù‡Ø§ Ø§Ù†ØªÙ waterØªÙŠÙ†ÙŠ ...",
      "Ù…Ø±Ù‡ Ø¨Ø§Ø¨ ÙƒØ§Ù† Ø¨ÙŠÙƒØ­ Ø¹Ø´Ø§Ù† ÙƒØ§Ù† Ø¹Ù†Ø¯Ùˆ door Ø¨Ø±Ø¯ ..",
      "Ù…Ø±Ùƒ Ù†Ù…Ù„Ø© ÙƒØ§Ù† Ù„ÙˆÙ†Ù‡Ø§ Ø§Ø²Ø±Ù‚ Ø¹Ø´Ø§Ù† ÙƒØ§Ù†Øª Ù„Ù„Ø¨Ø³Ù‡ Ø¨Ù†Ø·Ù„ÙˆÙ† Ú†ÙŠÙ†ÙŠ ..",

      // +10 Ù†ÙƒØª ØºØ¨ÙŠØ© Ù…Ù† Ø¹Ù†Ø¯ÙŠ
      "Ù…Ø±Ø© ÙˆØ§Ø­Ø¯ Ø§Ø´ØªØ±Ù‰ ÙƒØ±Ø³ÙŠâ€¦ Ù‚Ø¹Ø¯ Ø¹Ù„ÙŠÙ‡ ÙØ±Ø­Ø§Ù† Ù‚Ø§Ù„: Ø£Ø®ÙŠØ±Ù‹Ø§ Ù„Ù‚ÙŠØª Ø­Ø¯ â€œÙŠØ³Ù†Ø¯Ù†ÙŠâ€.",
      "Ù…Ø±Ø© ÙˆØ§Ø­Ø¯ ÙØªØ­ Ø§Ù„ØªÙ„Ø§Ø¬Ø© Ù„Ù‚Ù‰ Ø§Ù„Ø¬Ø¨Ù†Ø© Ø¨ØªÙ‚ÙˆÙ„: Ø§Ù‚ÙÙ„ Ø¨Ø³Ø±Ø¹Ø©â€¦ Ø£Ù†Ø§ Ù„Ø³Ù‡ Ù…Ø´ Ù…Ø³ØªØ¹Ø¯Ø© Ù†ÙØ³ÙŠØ§Ù‹.",
      "Ù…Ø±Ø© Ù‚Ù„Ù… Ø±ØµØ§Øµ Ø²Ø¹Ù„â€¦ Ù‚Ø§Ù„: Ø£Ù†Ø§ Ø·ÙˆÙ„ Ø¹Ù…Ø±ÙŠ â€œÙ…Ø±Ø³ÙˆÙ…Ù„ÙŠâ€ ÙƒØ¯Ù‡.",
      "Ù…Ø±Ø© Ø§Ù„Ø³Ø§Ø¹Ø© Ù‚Ø§Ù„Øª Ù„Ù„ØªØ§Ù†ÙŠØ©: Ù…ØªØ³ØªØ¹Ø¬Ù„ÙŠØ´â€¦ Ø¥Ø­Ù†Ø§ Ø¨Ù†Ø¹Ø¯Ù‘ÙŠÙ‡Ø§ Ø¨Ø§Ù„Ø±Ø§Ø­Ø©.",
      "Ù…Ø±Ø© Ø´Ø§Ø­Ù† Ù…ÙˆØ¨Ø§ÙŠÙ„ Ø§ØªØ¬ÙˆØ²â€¦ Ø®Ù„Ù â€œØ¨Ø§ÙˆØ±â€ ØµØºÙŠØ± Ø¨ÙŠØ¹ÙŠØ· Ù„Ù…Ø§ Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¡ ØªÙ‚Ø·Ø¹.",
      "Ù…Ø±Ø© Ø²Ø±Ø§Ø± Ù‚Ù…ÙŠØµ Ø§ØªØ®Ø§Ù†Ù‚â€¦ Ù‚Ø§Ù„: Ø£Ù†Ø§ Ø¯Ø§ÙŠÙ…Ù‹Ø§ Ù…Ø¶ØºÙˆØ·!",
      "Ù…Ø±Ø© Ù…Ø±Ø§ÙŠØ© Ø¨ØªØªÙØ±Ø¬ Ø¹Ù„Ù‰ Ù†ÙØ³Ù‡Ø§â€¦ Ù‚Ø§Ù„Øª: ÙˆØ§Ùˆâ€¦ Ø£Ù†Ø§ Ø´ÙƒÙ„ÙŠ Ø¹Ø§ÙƒØ³ Ø§Ù„ÙˆØ§Ù‚Ø¹ Ø¨Ø²ÙŠØ§Ø¯Ø©.",
      "Ù…Ø±Ø© ÙˆØ§Ø­Ø¯ Ø±Ø§Ø­ ÙŠØ´ØªØ±ÙŠ Ø³ÙƒØ±â€¦ Ù‚Ø§Ù„ÙˆÙ„Ù‡: Ø¹Ù†Ø¯Ù†Ø§ Ø¹Ø§Ø¯ÙŠ ÙˆØ¹Ù†Ø¯Ù†Ø§ â€œØ³ÙˆÙŠØªâ€.. Ù‚Ø§Ù„: Ù‡Ø§ØªÙ„ÙŠ Ø§Ù„Ù„ÙŠ Ø¨ÙŠØ¶Ø­Ùƒ.",
      "Ù…Ø±Ø© ÙˆØ§Ø­Ø¯ Ø³Ù…Ø¹ ÙƒÙ„Ù…Ø© (ØµÙ…Øª)â€¦ Ù‚Ø§Ù„: Ø¯ÙŠ Ø£ÙƒÙŠØ¯ Ø¨ØªØ¹Ù…Ù„ ASMR.",
      "Ù…Ø±Ø© ÙˆØ§Ø­Ø¯ Ù„Ù‚Ù‰ Ø§Ù„Ù†ÙˆØ± Ù…Ø·ÙÙŠâ€¦ Ù‚Ø§Ù„: ÙˆØ§Ø¶Ø­ Ø¥Ù† Ø§Ù„Ù…ØµØ¨Ø§Ø­ ÙˆØ§Ø®Ø¯ ÙŠÙˆÙ… Ø±Ø§Ø­Ø© Ù†ÙØ³ÙŠØ©."
    ];
    let jIndex = 0;

    const jTitle = document.getElementById("jTitle");
    const jText  = document.getElementById("jText");
    const jNums  = document.getElementById("jNums");

    function buildNums(container, total, active, onPick){
      container.innerHTML = "";
      for(let i=0;i<total;i++){
        const b = document.createElement("button");
        b.className = "num" + (i===active ? " active":"");
        b.type = "button";
        b.textContent = (i+1);
        b.addEventListener("click", ()=> onPick(i));
        container.appendChild(b);
      }
    }

    function renderJokes(idx){
      jIndex = idx;
      jTitle.textContent = `ØµÙØ­Ø© ${idx+1} / ${jokes.length}`;
      buildNums(jNums, jokes.length, idx, (i)=>{ renderJokes(i); });
      typewrite(jText, jokes[idx], 14);
    }
    document.getElementById("jPrev").addEventListener("click", ()=> renderJokes((jIndex-1 + jokes.length)%jokes.length));
    document.getElementById("jNext").addEventListener("click", ()=> renderJokes((jIndex+1)%jokes.length));
    document.getElementById("jReplay").addEventListener("click", ()=> renderJokes(jIndex));
    document.getElementById("jMsg").addEventListener("click", openModal);

    /*************************
     * QUIZ ENGINE
     *************************/
    function renderQuiz({data, index, qEl, optsEl, msgEl, titleEl, numsEl, onSetIndex, getPicked, setPicked}){
      const item = data[index];
      titleEl.textContent = `ØµÙØ­Ø© ${index+1} / ${data.length}`;
      buildNums(numsEl, data.length, index, (i)=>{ onSetIndex(i); });

      qEl.textContent = item.q;
      optsEl.innerHTML = "";
      msgEl.textContent = "";

      const picked = getPicked(index);

      item.options.forEach((opt, i)=>{
        const b = document.createElement("button");
        b.type = "button";
        b.className = "opt";
        b.textContent = opt;

        if(picked !== null){
          if(i === item.answer) b.classList.add("correct");
          if(i === picked && picked !== item.answer) b.classList.add("wrong");
          b.disabled = true;
          b.style.cursor = "default";
        }

        b.addEventListener("click", ()=>{
          setPicked(index, i);
          // re-render same page to lock
          onSetIndex(index);
        });

        optsEl.appendChild(b);
      });

      if(picked !== null){
        const ok = (picked === item.answer);
        msgEl.textContent = ok ? "ØµØ­ âœ…" : `ØºÙ„Ø· âŒ â€” Ø§Ù„ØµØ­: ${item.options[item.answer]}`;
        msgEl.className = "msgline " + (ok ? "ok":"bad");
      }else{
        msgEl.className = "msgline";
      }
    }

    /*************************
     * GENERAL KNOWLEDGE (5 Q)
     *************************/
    const gk = [
      { q:"ÙƒÙ… Ø¹Ø¯Ø¯ ÙƒÙˆØ§ÙƒØ¨ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø´Ù…Ø³ÙŠØ©ØŸ", options:["7","8","9","10"], answer:1 },
      { q:"Ø£ÙƒØ¨Ø± Ù…Ø­ÙŠØ· Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø±Ø¶ Ù‡ÙˆØŸ", options:["Ø§Ù„Ø£Ø·Ù„Ø³ÙŠ","Ø§Ù„Ù‡Ø§Ø¯Ø¦","Ø§Ù„Ù‡Ù†Ø¯ÙŠ","Ø§Ù„Ù…ØªØ¬Ù…Ø¯ Ø§Ù„Ø´Ù…Ø§Ù„ÙŠ"], answer:1 },
      { q:"Ø£Ù‚Ø±Ø¨ ÙƒÙˆÙƒØ¨ Ù„Ù„Ø´Ù…Ø³ Ù‡ÙˆØŸ", options:["Ø§Ù„Ø²Ù‡Ø±Ø©","Ø§Ù„Ù…Ø±ÙŠØ®","Ø¹Ø·Ø§Ø±Ø¯","Ø§Ù„Ø£Ø±Ø¶"], answer:2 },
      { q:"Ø£Ø·ÙˆÙ„ Ø³ÙˆØ±Ø© ÙÙŠ Ø§Ù„Ù‚Ø±Ø¢Ù† Ù‡ÙŠØŸ", options:["Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù†","Ø§Ù„Ø¨Ù‚Ø±Ø©","Ø§Ù„Ù†Ø³Ø§Ø¡","Ø§Ù„Ø£Ù†Ø¹Ø§Ù…"], answer:1 },
      { q:"Ø¯Ø±Ø¬Ø© ØºÙ„ÙŠØ§Ù† Ø§Ù„Ù…Ø§Ø¡ Ø¹Ù†Ø¯ Ù…Ø³ØªÙˆÙ‰ Ø³Ø·Ø­ Ø§Ù„Ø¨Ø­Ø± ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹ØŸ", options:["90Â°","100Â°","110Â°","120Â°"], answer:1 }
    ];
    let gIndex = 0;
    const gPicked = Array(gk.length).fill(null);

    const gTitle = document.getElementById("gTitle");
    const gNums  = document.getElementById("gNums");
    const gQ     = document.getElementById("gQ");
    const gOpts  = document.getElementById("gOpts");
    const gMsg   = document.getElementById("gMsg");

    function renderGK(idx){
      gIndex = idx;
      renderQuiz({
        data: gk,
        index: gIndex,
        qEl: gQ,
        optsEl: gOpts,
        msgEl: gMsg,
        titleEl: gTitle,
        numsEl: gNums,
        onSetIndex: renderGK,
        getPicked: (i)=> gPicked[i],
        setPicked: (i,v)=> gPicked[i]=v
      });
    }
    document.getElementById("gPrev").addEventListener("click", ()=> renderGK((gIndex-1+gk.length)%gk.length));
    document.getElementById("gNext").addEventListener("click", ()=> renderGK((gIndex+1)%gk.length));
    document.getElementById("gReset").addEventListener("click", ()=>{
      for(let i=0;i<gPicked.length;i++) gPicked[i]=null;
      renderGK(gIndex);
    });
    document.getElementById("gMsgBtn").addEventListener("click", openModal);

    /*************************
     * COUNTRIES (5 Q)
     *************************/
    const countries = [
      { q:"Ø¹Ø§ØµÙ…Ø© Ù…ØµØ± Ù‡ÙŠØŸ", options:["Ø§Ù„Ø£Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©","Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©","Ø§Ù„Ø£Ù‚ØµØ±","Ø£Ø³ÙˆØ§Ù†"], answer:1 },
      { q:"Ø¹Ø§ØµÙ…Ø© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© Ù‡ÙŠØŸ", options:["Ø¬Ø¯Ø©","Ù…ÙƒØ©","Ø§Ù„Ø±ÙŠØ§Ø¶","Ø§Ù„Ø¯Ù…Ø§Ù…"], answer:2 },
      { q:"ÙØ±Ù†Ø³Ø§ ØªÙ‚Ø¹ ÙÙŠ Ù‚Ø§Ø±Ø©ØŸ", options:["Ø¢Ø³ÙŠØ§","Ø£ÙØ±ÙŠÙ‚ÙŠØ§","Ø£ÙˆØ±ÙˆØ¨Ø§","Ø£Ù…Ø±ÙŠÙƒØ§ Ø§Ù„Ø¬Ù†ÙˆØ¨ÙŠØ©"], answer:2 },
      { q:"Ø¹Ø§ØµÙ…Ø© ÙƒÙ†Ø¯Ø§ Ù‡ÙŠØŸ", options:["ØªÙˆØ±ÙˆÙ†ØªÙˆ","Ø£ÙˆØªØ§ÙˆØ§","Ù…ÙˆÙ†ØªØ±ÙŠØ§Ù„","ÙØ§Ù†ÙƒÙˆÙØ±"], answer:1 },
      { q:"Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„ Ø¹Ø§ØµÙ…ØªÙ‡Ø§ØŸ", options:["Ø±ÙŠÙˆ Ø¯ÙŠ Ø¬Ø§Ù†ÙŠØ±Ùˆ","Ø³Ø§Ùˆ Ø¨Ø§ÙˆÙ„Ùˆ","Ø¨Ø±Ø§Ø²ÙŠÙ„ÙŠØ§","Ø³Ù„ÙØ§Ø¯ÙˆØ±"], answer:2 }
    ];
    let cIndex = 0;
    const cPicked = Array(countries.length).fill(null);

    const cTitle = document.getElementById("cTitle");
    const cNums  = document.getElementById("cNums");
    const cQ     = document.getElementById("cQ");
    const cOpts  = document.getElementById("cOpts");
    const cMsg   = document.getElementById("cMsg");

    function renderCountries(idx){
      cIndex = idx;
      renderQuiz({
        data: countries,
        index: cIndex,
        qEl: cQ,
        optsEl: cOpts,
        msgEl: cMsg,
        titleEl: cTitle,
        numsEl: cNums,
        onSetIndex: renderCountries,
        getPicked: (i)=> cPicked[i],
        setPicked: (i,v)=> cPicked[i]=v
      });
    }
    document.getElementById("cPrev").addEventListener("click", ()=> renderCountries((cIndex-1+countries.length)%countries.length));
    document.getElementById("cNext").addEventListener("click", ()=> renderCountries((cIndex+1)%countries.length));
    document.getElementById("cReset").addEventListener("click", ()=>{
      for(let i=0;i<cPicked.length;i++) cPicked[i]=null;
      renderCountries(cIndex);
    });
    document.getElementById("cMsgBtn").addEventListener("click", openModal);

    /*************************
     * SOON pages (with pager)
     *************************/
    const soonPages = [
      "Ù‚Ø±ÙŠØ¨Ø§Ù‹â€¦\nÙ‡Ù†Ø¶ÙŠÙ Ø£Ù‚Ø³Ø§Ù… Ø¬Ø¯ÙŠØ¯Ø© ÙˆÙˆØ§Ø¬Ù‡Ø© Ø£Ø³Ø±Ø¹ + ØªØ£Ø«ÙŠØ±Ø§Øª Ø£Ø­Ù„Ù‰.",
      "Ù‚Ø±ÙŠØ¨Ø§Ù‹â€¦\nØªØ¬Ù…ÙŠØ¹ Ù†Ù‚Ø§Ø· + ØªØ±ØªÙŠØ¨ Ø£Ø¹Ù„Ù‰ Ø§Ù„Ø²ÙˆØ§Ø± + Ù…ÙØ§Ø¬Ø¢Øª.",
      "Ù‚Ø±ÙŠØ¨Ø§Ù‹â€¦\nØµÙØ­Ø© â€œÙ…Ø­ØªÙˆÙ‰ Ø®Ø§Øµâ€ + Ø£Ù„Ø¹Ø§Ø¨ Ø¥Ø¶Ø§ÙÙŠØ©.",
      "Ù‚Ø±ÙŠØ¨Ø§Ù‹â€¦\nØ«ÙŠÙ…Ø§Øª ÙƒØªÙŠØ± ØªØ®ØªØ§Ø± Ù…Ù†Ù‡Ø§ (Dark/Neon/Pastel).",
      "Ù‚Ø±ÙŠØ¨Ø§Ù‹â€¦\nÙ„Ùˆ Ø­Ø¨ÙŠØª ØªØ­Ø· Ø£Ø³Ø¦Ù„ØªÙƒ Ø£Ù†Øªâ€¦ Ù‡Ù†Ø¹Ù…Ù„ Ù…Ø­Ø±Ø± ØµØºÙŠØ±."
    ];
    let sIndex = 0;
    const sTitle = document.getElementById("sTitle");
    const sNums  = document.getElementById("sNums");
    const sText  = document.getElementById("sText");

    function renderSoon(idx){
      sIndex = idx;
      sTitle.textContent = `ØµÙØ­Ø© ${idx+1} / ${soonPages.length}`;
      buildNums(sNums, soonPages.length, idx, (i)=> renderSoon(i));
      typewrite(sText, soonPages[idx], 14);
    }
    document.getElementById("sPrev").addEventListener("click", ()=> renderSoon((sIndex-1+soonPages.length)%soonPages.length));
    document.getElementById("sNext").addEventListener("click", ()=> renderSoon((sIndex+1)%soonPages.length));
    document.getElementById("sMsgBtn").addEventListener("click", openModal);
    document.getElementById("sBackHome").addEventListener("click", ()=> go("home"));

    /*************************
     * EXTRAS section
     *************************/
    document.getElementById("openExtras").addEventListener("click", ()=>{
      go("extras");
      document.getElementById("exMsg").textContent = "Ø§Ø®ØªØ§Ø± Ù„Ø¹Ø¨Ø©â€¦";
      document.getElementById("miniBox").style.display = "none";
      document.getElementById("miniMsg").textContent = "";
    });
    document.getElementById("exMsgBtn").addEventListener("click", openModal);

    document.getElementById("goXO").addEventListener("click", ()=>{
      // quick jump: open countries section? No â€” we keep just a message
      document.getElementById("exMsg").textContent = "XO Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©â€¦ Ù‡Ù†Ø§ Ù‡Ù†Ø¨Ù‚Ù‰ Ù†Ø¶ÙŠÙÙ‡Ø§ ÙƒØµÙØ­Ø© ÙƒØ§Ù…Ù„Ø© Ù‚Ø±ÙŠØ¨Ø§Ù‹ ğŸ˜‰";
      document.getElementById("exMsg").className = "msgline";
    });
    document.getElementById("goMemory").addEventListener("click", ()=>{
      document.getElementById("exMsg").textContent = "Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©â€¦ Ù‡Ù†Ø§ Ù‚Ø±ÙŠØ¨Ø§Ù‹ Ù†Ø³Ø®Ø© Ø£Ø³Ø±Ø¹ ğŸ”¥";
      document.getElementById("exMsg").className = "msgline";
    });

    document.getElementById("miniRiddle").addEventListener("click", ()=>{
      document.getElementById("miniBox").style.display = "block";
      document.getElementById("miniMsg").textContent = "Ø§Ø®ØªØ§Ø± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©â€¦";
      document.getElementById("miniMsg").className = "msgline";
    });

    document.querySelectorAll("[data-mini]").forEach(b=>{
      b.addEventListener("click", ()=>{
        const v = b.dataset.mini;
        const msg = document.getElementById("miniMsg");
        if(v === "C"){
          msg.textContent = "ØµØ­ âœ… (ğŸ¥¦ Ù…Ø´ ÙØ§ÙƒÙ‡Ø©)";
          msg.className = "msgline ok";
        }else{
          flashRed();
          msg.textContent = "ØºÙ„Ø· âŒ Ø¬Ø±Ù‘Ø¨ ØªØ§Ù†ÙŠ";
          msg.className = "msgline bad";
        }
      });
    });

    /*************************
     * MESSAGES modal + Formspree
     *************************/
    const modal = document.getElementById("modal");
    const openMessages = document.getElementById("openMessages");
    const closeModal = document.getElementById("closeModal");

    function openModal(){
      modal.classList.add("show");
      document.getElementById("msgHint").textContent = "";
    }
    function hideModal(){
      modal.classList.remove("show");
    }

    openMessages.addEventListener("click", openModal);
    closeModal.addEventListener("click", hideModal);
    modal.addEventListener("click", (e)=>{
      if(e.target === modal) hideModal();
    });

    const msgForm = document.getElementById("msgForm");
    const msgText = document.getElementById("msgText");
    const msgPage = document.getElementById("msgPage");
    const msgSend = document.getElementById("msgSend");
    const msgHint = document.getElementById("msgHint");

    msgForm.addEventListener("submit", async (e)=>{
      e.preventDefault();

      const gotcha = msgForm.querySelector('[name="_gotcha"]').value;
      if(gotcha) return;

      const msg = (msgText.value || "").trim();
      if(!msg){
        flashRed();
        msgText.focus();
        return;
      }

      msgPage.value = location.href;
      msgSend.disabled = true;
      msgHint.textContent = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...";

      try{
        const fd = new FormData(msgForm);

        let res = await fetch(FORMSPREE_ENDPOINT, {
          method: "POST",
          body: fd,
          headers: { "Accept":"application/json" }
        });

        if(!res.ok){
          // fallback urlencoded
          const payload = new URLSearchParams();
          for(const [k,v] of fd.entries()) payload.append(k, String(v));
          res = await fetch(FORMSPREE_ENDPOINT, {
            method:"POST",
            headers:{
              "Accept":"application/json",
              "Content-Type":"application/x-www-form-urlencoded"
            },
            body: payload.toString()
          });
        }

        const data = await res.json().catch(()=>({}));
        if(!res.ok){
          const m = data?.error || data?.message || "Ù…Ø±ÙÙˆØ¶";
          msgHint.textContent = `ÙØ´Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ (${res.status}): ${m}`;
          msgHint.className = "msgline bad";
          flashRed();
          msgSend.disabled = false;
          return;
        }

        msgHint.textContent = "ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ âœ…";
        msgHint.className = "msgline ok";
        msgSend.disabled = false;

      }catch(err){
        msgHint.textContent = "ÙØ´Ù„ Ø§ØªØµØ§Ù„/Ø­Ø¸Ø± Ù…Ù† Ø¥Ø¶Ø§ÙØ©. Ø¬Ø±Ù‘Ø¨ Incognito Ø£Ùˆ Ø¨Ø¯Ù‘Ù„ ÙÙˆØ±Ù….";
        msgHint.className = "msgline bad";
        flashRed();
        msgSend.disabled = false;
      }
    });

    /*************************
     * HOME quick extras
     *************************/
    document.getElementById("openExtras").addEventListener("click", ()=>{});

    /*************************
     * init renders (lazy)
     *************************/
    // build first view data when opening sections
    // but we can pre-render jokes page 1 to avoid blank if user opens quickly
    renderJokes(0);
    renderGK(0);
    renderCountries(0);
    renderSoon(0);

  </script>
</body>
</html>
